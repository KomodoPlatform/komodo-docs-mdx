{
  "info": {
    "_postman_id": "generated-enable-eth-with-tokens-collection",
    "name": "enable_eth_with_tokens",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "enable_eth_with_tokens - required params (ETH + tokens)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"userpass\": \"{{userpass}}\",\n  \"method\": \"enable_eth_with_tokens\",\n  \"mmrpc\": \"2.0\",\n  \"params\": {\n    \"ticker\": \"ETH\",\n    \"gas_station_url\": \"https://ethgasstation.info/json/ethgasAPI.json\",\n    \"gas_station_decimals\": 8,\n    \"gas_station_policy\": {\n      \"policy\": \"MeanAverageFast\"\n    },\n    \"mm2\": 1,\n    \"priv_key_policy\": \"ContextPrivKey\",\n    \"swap_contract_address\": \"0x24ABE4c71FC658C91313b6552cd40cD808b3Ea80\",\n    \"fallback_swap_contract\": \"0x8500AFc0bc5214728082163326C2FF0C73f4a871\",\n    \"nodes\": [\n      {\n        \"url\": \"https://eth1.cipig.net:18555\",\n        \"komodo_proxy\": false\n      }\n    ],\n    \"tx_history\": true,\n    \"erc20_tokens_requests\": [\n      {\n        \"ticker\": \"APE-ERC20\",\n        \"required_confirmations\": 4\n      }\n    ],\n    \"required_confirmations\": 5,\n    \"requires_notarization\": false\n  }\n}"
        },
        "url": {
          "raw": "{{mm2host}}",
          "host": ["{{mm2host}}"]
        }
      },
      "response": [
        {
          "name": "Success",
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\n  \"mmrpc\": \"2.0\",\n  \"result\": {\n    \"current_block\": 20590537,\n    \"eth_addresses_infos\": {\n      \"0x083C32B38e8050473f6999e22f670d1404235592\": {\n        \"derivation_method\": {\n          \"type\": \"Iguana\"\n        },\n        \"pubkey\": \"04ec603f83519cc2150bd99ed0ed6b3f7f029dedff2957cd22542e2504e3d2a7953c084f907cce2f0e26fb0cfc55e06925bf0f88a92b904224dba8ebafdf98ce7b\",\n        \"balances\": {\n          \"spendable\": \"0\",\n          \"unspendable\": \"0\"\n        }\n      }\n    },\n    \"erc20_addresses_infos\": {\n      \"0x083C32B38e8050473f6999e22f670d1404235592\": {\n        \"derivation_method\": {\n          \"type\": \"Iguana\"\n        },\n        \"pubkey\": \"04ec603f83519cc2150bd99ed0ed6b3f7f029dedff2957cd22542e2504e3d2a7953c084f907cce2f0e26fb0cfc55e06925bf0f88a92b904224dba8ebafdf98ce7b\",\n        \"balances\": {\n          \"APE-ERC20\": {\n            \"spendable\": \"0\",\n            \"unspendable\": \"0\"\n          }\n        }\n      }\n    },\n    \"nfts_infos\": {}\n  },\n  \"id\": null\n}"
        }
      ]
    },
    {
      "name": "enable_eth_with_tokens - get_balances false",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"userpass\": \"{{userpass}}\",\n  \"method\": \"enable_eth_with_tokens\",\n  \"mmrpc\": \"2.0\",\n  \"params\": {\n    \"ticker\": \"MATIC\",\n    \"get_balances\": false,\n    \"tx_history\": false,\n    \"gas_station_url\": \"https://gasstation-mainnet.matic.network/\",\n    \"swap_contract_address\": \"0x9130b257D37A52E52F21054c4DA3450c72f595CE\",\n    \"fallback_swap_contract\": \"0x9130b257D37A52E52F21054c4DA3450c72f595CE\",\n    \"swap_v2_contracts\": {\n      \"maker_swap_v2_contract\": \"0x9130b257D37A52E52F21054c4DA3450c72f595CE\",\n      \"taker_swap_v2_contract\": \"0x9130b257D37A52E52F21054c4DA3450c72f595CE\",\n      \"nft_maker_swap_v2_contract\": \"0x9130b257D37A52E52F21054c4DA3450c72f595CE\"\n    },\n    \"nodes\": [\n      {\n        \"url\": \"https://polygon-rpc.com\"\n      }\n    ],\n    \"erc20_tokens_requests\": [\n      {\n        \"ticker\": \"PGX-PLG20\",\n        \"required_confirmations\": 4\n      }\n    ],\n    \"required_confirmations\": 5,\n    \"requires_notarization\": false\n  }\n}"
        },
        "url": {
          "raw": "{{mm2host}}",
          "host": ["{{mm2host}}"]
        }
      },
      "response": [
        {
          "name": "Success (get_balances false)",
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "body": "{\n  \"mmrpc\": \"2.0\",\n  \"result\": {\n    \"current_block\": 12345678,\n    \"eth_addresses_infos\": {},\n    \"erc20_addresses_infos\": {},\n    \"nfts_infos\": {}\n  },\n  \"id\": null\n}"
        }
      ]
    },
    {
      "name": "enable_eth_with_tokens - missing required param (edge case)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"userpass\": \"{{userpass}}\",\n  \"method\": \"enable_eth_with_tokens\",\n  \"mmrpc\": \"2.0\",\n  \"params\": {}\n}"
        },
        "url": {
          "raw": "{{mm2host}}",
          "host": ["{{mm2host}}"]
        }
      },
      "response": [
        {
          "name": "Error: Missing required param",
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "body": "{\n  \"mmrpc\": \"2.0\",\n  \"error\": \"Missing required parameter: ticker\",\n  \"id\": null\n}"
        }
      ]
    }
  ],
  "variable": [
    { "key": "mm2host", "value": "http://127.0.0.1:7783", "type": "string" },
    { "key": "userpass", "value": "your_userpass_here", "type": "string" }
  ]
} 