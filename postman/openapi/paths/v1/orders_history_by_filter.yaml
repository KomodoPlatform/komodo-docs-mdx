# OpenAPI path spec for orders_history_by_filter (v1)
/api/v1/orders_history_by_filter:
  post:
    operationId: orders_history_by_filter
    summary: Komodo DeFi Framework Method: Orders History by Filter
    description: The orders_history_by_filter method returns all orders whether active or inactive that match the selected filters.
    x-mdx-doc-path: ../../../../src/pages/komodo-defi-framework/api/legacy/orders_history_by_filter/index.mdx
    requestBody:
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: '../../../components/schemas/Common.yaml#/RpcV1Request'
              - type: object
                properties:
                  method:
                    type: string
                    enum: [orders_history_by_filter]
                    description: Method name (must be 'orders_history_by_filter').
                  order_type:
                    type: string
                    enum: ["Maker", "Taker"]
                    description: Return only orders that match the order_type (Maker or Taker).
                  initial_action:
                    $ref: ../../../components/schemas/Common.yaml#/TradeAction
                    description: Return only orders that match the initial_action (Sell or Buy).
                  base:
                    $ref: ../../../components/schemas/Common.yaml#/CoinTicker
                    description: Return only orders that match the order.base = base condition.
                  rel:
                    $ref: ../../../components/schemas/Common.yaml#/CoinTicker
                    description: Return only orders that match the order.rel = rel condition.
                  from_price:
                    type: number
                    minimum: 0
                    description: Return only orders with price >= from_price.
                  to_price:
                    type: number
                    minimum: 0
                    description: Return only orders with price <= to_price.
                  from_volume:
                    type: number
                    minimum: 0
                    description: Return only orders with volume >= from_volume.
                  to_volume:
                    type: number
                    minimum: 0
                    description: Return only orders with volume <= to_volume.
                  from_timestamp:
                    type: integer
                    minimum: 0
                    description: Return only orders with created_at >= from_timestamp.
                  to_timestamp:
                    type: number
                    minimum: 0
                    description: Return only orders with created_at <= to_timestamp.
                  was_taker:
                    type: boolean
                    description: Return only GoodTillCancelled orders that got converted from taker to maker.
                  status:
                    type: string
                    description: Return only orders that match the status.
                  include_details:
                    type: boolean
                    description: Whether to include complete order details in response.
    responses:
      '200':
        description: Success
        content:
          application/json:
            schema:
              type: object
              properties:
                result:
                  type: object
                  properties:
                    orders:
                      type: array
                      items:
                        $ref: ../../components/schemas/Orders.yaml#/OrderSummaryData
                      description: Array of order summary data.
                    details:
                      type: array
                      items:
                        type: object
                        properties:
                          type:
                            type: string
                            enum: ["Maker", "Taker"]
                            description: Type of the order (Maker or Taker).
                          order:
                            $ref: ../../components/schemas/Orders.yaml#/OrderDataV1
                            description: Complete order details.
                        required:
                          - type
                          - order
                      description: Array of complete order details for every order that matches the selected filters.
                    found_records:
                      type: integer
                      minimum: 0
                      description: Number of returned orders.
                    warnings:
                      type: array
                      items:
                        type: object
                        properties:
                          uuid:
                            type: string
                            format: uuid
                            description: UUID of the order that produced this warning.
                          warning:
                            type: string
                            description: Warning message.
                        required:
                          - uuid
                          - warning
                      description: Array containing warnings objects.
                  required:
                    - orders
                    - found_records
              required:
                - result
      '400':
        description: Bad request
        content:
          application/json:
            schema:
              $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse' 