/verify_message:
  post:
    operationId: verify_message
    summary: Verify Message
    description: |
      The verify_message method allows one to confirm the authenticity of a signed message. By using the original message, the wallet's address, and the signature, the verification process can confirm that the message was created by the owner and that it has not been altered.
    x-mdx-doc-path: ../../src/pages/komodo-defi-framework/api/v20/utils/message_signing/verify_message/index.mdx
    requestBody:
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: '../../../components/schemas/Common.yaml#/RpcV2Request'
              - type: object
                properties:
                  method:
                    type: string
                    enum: ["verify_message"]
                    description: The method name
                    example: "verify_message
                  params:
                    type: object
                    properties:
                      coin:
                        $ref: ../../../components/schemas/Common.yaml#/CoinTicker
                        description: The coin to sign a message with
                      message:
                        type: string
                        description: The message input via the sign_message method
                        example: "Between subtle shading and the absence of light lies the nuance illusion
                      signature:
                        type: string
                        description: The signature generated for the message
                        example: "H43eTmJxBKEPiHkrCe/8NsRidkKCIkXDxLyp30Ez/RwoApGdg89Hlvj9mTMSPGp8om5297zvdL8EVx3IdIe2swY=
                      address:
                        type: string
                        description: The address used to sign the message
                        example: "RUYJYSTuCKm9gouWzQN1LirHFEYThwzA2d
                    required:
                      - coin
                      - message
                      - signature
                      - address
    responses:
      '200':
        description: Message verification result
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../../../components/schemas/Common.yaml#/RpcSuccessResponse'
                - type: object
                  properties:
                    result:
                      type: object
                      properties:
                        is_valid:
                          type: boolean
                          description: true if message signature is valid; false if it is not
                          example: true
                      required:
                        - is_valid
      '400':
        description: Bad request
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse'
                - type: object
                  properties:
                    error_type:
                      type: string
                      description: Type of error
                      enum:
                        - "PrefixNotFound
                        - "CoinIsNotFound
                        - "InvalidRequest
                        - "InternalError
                        - "SignatureDecodingError
                        - "AddressDecodingError
                    error_data:
                      type: string
                      description: Additional error data
                      example: "No such coin: SHEKEL
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse' 