/my_tx_history:
  post:
    operationId: my_tx_history
    summary: My Transaction History
    description: |
      Allows you to view the transaction history of coins.
      To use this method, you must activate your coin with "tx_history": true.
      Currently only BCH & SLP tokens are supported in the master/release API.
      In the latest dev API, UTXO coins, QTUM, and Tendermint/Tendermint tokens are also supported.
      For ZHTLC coins, use the z_coin_tx_history method instead.
    x-mdx-doc-path: ../../src/pages/komodo-defi-framework/api/v20/wallet/tx/my_tx_history/index.mdx
    requestBody:
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: '../../../components/schemas/Common.yaml#/RpcV2Request'
              - type: object
                properties:
                  method:
                    type: string
                    enum: ["my_tx_history"]
                    description: The method name
                    example: "my_tx_history"
                  params:
                    type: object
                    required:
                      - coin
                    properties:
                      coin:
                        $ref: '../../../components/schemas/Common.yaml#/CoinTicker'
                        description: Ticker of the coin to get history for
                        example: "DOC"
                      limit:
                        type: integer
                        description: Optional. Limits the number of returned transactions. Defaults to 10. Ignored if max = true
                        minimum: 1
                        default: 10
                        example: 10
                      paging_options:
                        $ref: '../../../components/schemas/Wallet.yaml#/PaginationOptions'
                        description: Optional. Pagination options
                      target:
                        $ref: '../../../components/schemas/Wallet.yaml#/HistoryTarget'
                        description: Optional. Specifies which addresses/accounts to get history for
    responses:
      '200':
        description: Successfully retrieved transaction history
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../../../components/schemas/Common.yaml#/RpcSuccessResponse'
                - type: object
                  properties:
                    result:
                      type: object
                      properties:
                        coin:
                          $ref: '../../../components/schemas/Common.yaml#/CoinTicker'
                          description: The coin ticker
                        target:
                          $ref: '../../../components/schemas/Wallet.yaml#/HistoryTarget'
                          description: The target that was queried
                        current_block:
                          type: integer
                          description: The number of the latest block of coin blockchain
                          example: 2066531
                        transactions:
                          type: array
                          description: Array of transaction objects
                          items:
                            type: object
                            properties:
                              tx_hex:
                                type: string
                                description: Raw transaction hex
                              tx_hash:
                                type: string
                                description: Transaction hash
                              from:
                                type: array
                                description: Array of sender addresses
                                items:
                                  type: string
                              to:
                                type: array
                                description: Array of recipient addresses
                                items:
                                  type: string
                              total_amount:
                                $ref: '../../../components/schemas/Common.yaml#/AmountString'
                                description: Total transaction amount
                              spent_by_me:
                                $ref: '../../../components/schemas/Common.yaml#/AmountString'
                                description: Amount spent by me
                              received_by_me:
                                $ref: '../../../components/schemas/Common.yaml#/AmountString'
                                description: Amount received by me
                              my_balance_change:
                                $ref: '../../../components/schemas/Common.yaml#/AmountString'
                                description: Net balance change for my addresses
                              block_height:
                                type: integer
                                description: Block height of the transaction
                              timestamp:
                                type: integer
                                description: Unix timestamp of the transaction
                              fee_details:
                                type: object
                                description: Transaction fee details
                                properties:
                                  type:
                                    type: string
                                    description: Fee type
                                    example: "Utxo"
                                  coin:
                                    $ref: '../../../components/schemas/Common.yaml#/CoinTicker'
                                    description: Coin used for fee
                                  amount:
                                    $ref: '../../../components/schemas/Common.yaml#/AmountString'
                                    description: Fee amount
                              coin:
                                $ref: '../../../components/schemas/Common.yaml#/CoinTicker'
                                description: Transaction coin
                              internal_id:
                                type: string
                                description: Internal transaction ID
                              transaction_type:
                                type: string
                                description: Type of transaction
                                example: "StandardTransfer"
                              memo:
                                type: string
                                nullable: true
                                description: Transaction memo (if any)
                              confirmations:
                                type: integer
                                description: Number of confirmations
                        sync_status:
                          $ref: '../../../components/schemas/Wallet.yaml#/SyncStatus'
                          description: Synchronization status information
                        limit:
                          type: integer
                          description: The limit that was set in the request
                        skipped:
                          type: integer
                          description: Number of skipped records
                        total:
                          type: integer
                          description: Total number of transactions available
                        total_pages:
                          type: integer
                          description: Total pages available with the selected limit
                        paging_options:
                          $ref: '../../../components/schemas/Wallet.yaml#/PaginationOptions'
                          description: Pagination options used
      '400':
        description: Bad request
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse'
                - type: object
                  properties:
                    error_type:
                      type: string
                      description: Type of error
                      enum:
                        - "CoinIsNotActivated"
                        - "HistoryTooLarge"
                        - "InvalidParam"
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse' 