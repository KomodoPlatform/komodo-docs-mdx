/sign_message:
  post:
    operationId: sign_message
    summary: Sign Message
    description: |
      The sign_message method allows one to prove ownership of a specific wallet address. A unique digital signature is provided for the message being signed. This signature, along with the original message and the wallet address, can then be verified, confirming that the message originated from the owner of the address and has not been altered.
    x-mdx-doc-path: ../../src/pages/komodo-defi-framework/api/v20/utils/message_signing/sign_message/index.mdx
    requestBody:
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: '../../../components/schemas/Common.yaml#/RpcV2Request'
              - type: object
                properties:
                  method:
                    type: string
                    enum: ["sign_message"]
                    description: The method name
                    example: "sign_message"
                  params:
                    type: object
                    properties:
                      coin:
                        $ref: ../../../components/schemas/Common.yaml#/CoinTicker
                        description: The coin to sign a message with
                      message:
                        type: string
                        description: The message you want to sign
                        example: "Between subtle shading and the absence of light lies the nuance illusion"
                      address:
                        $ref: ../../components/schemas/Wallet.yaml#/AddressPath
                        description: Optional, HD wallets only. The path to the address for signing the message. If not provided, the account_id, chain and address_id will default to 0
                    required:
                      - coin
                      - message
    responses:
      '200':
        description: Message signed successfully
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../../../components/schemas/Common.yaml#/RpcSuccessResponse'
                - type: object
                  properties:
                    result:
                      type: object
                      properties:
                        signature:
                          type: string
                          description: The signature generated for the message
                          example: "H43eTmJxBKEPiHkrCe/8NsRidkKCIkXDxLyp30Ez/RwoApGdg89Hlvj9mTMSPGp8om5297zvdL8EVx3IdIe2swY="
                      required:
                        - signature
      '400':
        description: Bad request
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse'
                - type: object
                  properties:
                    error_type:
                      type: string
                      description: Type of error
                      enum:
                        - "PrefixNotFound"
                        - "CoinIsNotFound"
                        - "SigningError"
                        - "InvalidRequest"
                        - "InternalError"
                    error_data:
                      type: string
                      description: Additional error data
                      example: "No such coin: SHEKEL"
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse' 