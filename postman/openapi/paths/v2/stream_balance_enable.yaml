/stream_balance_enable:
  post:
    operationId: stream::balance::enable
    summary: Enable Balance Streaming
    description: |
      Using this method, you can enable balance events streaming for a specific coin, to a specific client. 
      For ETH-like coins and tokens, you can also specify the streaming interval in seconds (to avoid excessive polling leading to upstream API rate limits).
      The selected coin must be enabled prior to enabling streaming.
    x-mdx-doc-path: ../../src/pages/komodo-defi-framework/api/v20/streaming/balance_enable/index.mdx
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - method
              - userpass
              - mmrpc
              - params
            properties:
              method:
                type: string
                enum: ["stream::balance::enable"]
                description: The method name
                example: "stream::balance::enable"
              userpass:
                type: string
                description: RPC password for authentication
                example: "RPC_UserP@SSW0RD"
              mmrpc:
                type: string
                enum: ["2.0"]
                description: The JSON-RPC version
                example: "2.0"
              id:
                type: integer
                description: Optional. Identifies a request to allow matching it with a response. Defaults to null
              params:
                type: object
                required:
                  - coin
                properties:
                  coin:
                    type: string
                    description: Ticker of the coin to activate streaming for. The coin must be activated first
                    example: "MATIC"
                  client_id:
                    type: integer
                    description: Optional. In the case of a single client, this defaults to 0. This ID can be used to access data via http://localhost:7783/event-stream?id=1
                    default: 0
                    example: 1
                  config:
                    $ref: ../../components/schemas/Streaming.yaml#/StreamingFeeConfig
                    description: Optional, EVM only. A standard StreamingFeeConfig object
    responses:
      '200':
        description: Balance streaming enabled successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                mmrpc:
                  type: string
                  description: The JSON-RPC version (should be '2.0')
                  example: "2.0"
                result:
                  type: object
                  properties:
                    streamer_id:
                      type: string
                      description: An identifier for the data stream. This can be used later to disable streaming for the event with stream::disable
                      example: "BALANCE:MATIC"
                id:
                  type: integer
                  description: Identifies a response to allow matching it with a request
      '400':
        description: Bad request - Various error conditions
        content:
          application/json:
            schema:
              type: object
              properties:
                mmrpc:
                  type: string
                  example: "2.0"
                error:
                  type: string
                  description: Error message describing what went wrong
                  examples:
                    - "CoinNotFound"
                    - "UnknownClient"
                    - "ClientAlreadyListening"
                    - "Invalid config provided. No config needed"
                error_path:
                  type: string
                  description: Path where the error occurred
                  examples:
                    - "balance"
                error_trace:
                  type: string
                  description: Error trace information
                  examples:
                    - "balance:47]"
                    - "balance:99]"
                    - "balance:60]"
                error_type:
                  type: string
                  description: Type of error
                  enum:
                    - "CoinNotFound"
                    - "EnableError"
                error_data:
                  type: string
                  description: Additional error data
                  examples:
                    - "UnknownClient"
                    - "ClientAlreadyListening"
                    - "Invalid config provided. No config needed"
                id:
                  type: integer
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              type: object
              properties:
                mmrpc:
                  type: string
                  example: "2.0"
                error:
                  type: string
                  description: Error message describing the internal error
                id:
                  type: integer 