/add_node_to_version_stat:
  post:
    operationId: add_node_to_version_stat
    summary: Add Node to Version Stat
    description: |
      The add_node_to_version_stat method adds a Node's name, IP address and PeerID to a local database to track which version of KDF it is running.
      The name parameter is an arbitrary identifying string. The address parameter is the node's IP address or domain names.
      Note: To allow collection of version stats, added nodes must open ports 42845 (tcp) and 42855 (ws).
    x-mdx-doc-path: ../../src/pages/komodo-defi-framework/api/v20/utils/add_node_to_version_stat/index.mdx
    requestBody:
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: '../../../components/schemas/Common.yaml#/RpcV2Request'
              - type: object
                properties:
                  method:
                    type: string
                    enum: ["add_node_to_version_stat"]
                    description: The method name
                    example: "add_node_to_version_stat"
                  params:
                    type: object
                    required:
                      - name
                      - address
                      - peer_id
                    properties:
                      name:
                        type: string
                        description: The name assigned to the node (arbitrary identifying string)
                        example: "seed1"
                      address:
                        type: string
                        description: The IP address or domain name of the node
                        example: "168.119.236.241"
                      peer_id:
                        type: string
                        pattern: "^[a-zA-Z0-9]{52}$"
                        description: The node's unique Peer ID (found in KDF log file after connection)
                        example: "12D3KooWEsuiKcQaBaKEzuMtT6uFjs89P1E8MK3wGRZbeuCbCw6P"
    responses:
      '200':
        description: Node added to version stat collection successfully
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../../../components/schemas/Common.yaml#/RpcSuccessResponse'
                - type: object
                  properties:
                    result:
                      type: string
                      description: Success confirmation
                      example: "success"
      '400':
        description: Bad request - Database or validation errors
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse'
                - type: object
                  properties:
                    error_type:
                      type: string
                      description: Type of error
                      enum:
                        - "DatabaseError"
                        - "PeerIdParseError"
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse' 