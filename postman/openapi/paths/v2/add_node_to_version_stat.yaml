/add_node_to_version_stat:
  post:
    operationId: add_node_to_version_stat
    summary: Add Node to Version Stat
    description: |
      The add_node_to_version_stat method adds a Node's name, IP address and PeerID to a local database to track which version of KDF it is running.
      The name parameter is an arbitrary identifying string. The address parameter is the node's IP address or domain names.
      Note: To allow collection of version stats, added nodes must open ports 42845 (tcp) and 42855 (ws).
    x-mdx-doc-path: ../../src/pages/komodo-defi-framework/api/v20/utils/add_node_to_version_stat/index.mdx
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - method
              - userpass
              - mmrpc
              - params
            properties:
              method:
                type: string
                enum: ["add_node_to_version_stat"]
                description: The method name
                example: "add_node_to_version_stat"
              userpass:
                type: string
                description: RPC password for authentication
                example: "RPC_UserP@SSW0RD"
              mmrpc:
                type: string
                enum: ["2.0"]
                description: The JSON-RPC version
                example: "2.0"
              id:
                type: integer
                description: Optional. Identifies a request to allow matching it with a response. Defaults to null
              params:
                type: object
                required:
                  - name
                  - address
                  - peer_id
                properties:
                  name:
                    type: string
                    description: The name assigned to the node (arbitrary identifying string)
                    example: "seed1"
                  address:
                    type: string
                    description: The IP address or domain name of the node
                    example: "168.119.236.241"
                  peer_id:
                    type: string
                    description: The node's unique Peer ID (found in KDF log file after connection)
                    example: "12D3KooWEsuiKcQaBaKEzuMtT6uFjs89P1E8MK3wGRZbeuCbCw6P"
    responses:
      '200':
        description: Node added to version stat collection successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                mmrpc:
                  type: string
                  description: The JSON-RPC version (should be '2.0')
                  example: "2.0"
                result:
                  type: string
                  description: Success confirmation
                  example: "success"
                id:
                  type: integer
                  description: Identifies a response to allow matching it with a request
      '400':
        description: Bad request - Database or validation errors
        content:
          application/json:
            schema:
              type: object
              properties:
                mmrpc:
                  type: string
                  example: "2.0"
                error:
                  type: string
                  description: Error message describing what went wrong
                  examples:
                    - "Database error: UNIQUE constraint failed: nodes.peer_id"
                    - "Database error: UNIQUE constraint failed: nodes.name"
                    - "Error on parse peer id 12D3RsaaWRmXsJsCKGAD5FJSsd7CSbbdrsd: decoding multihash failed"
                error_path:
                  type: string
                  description: Path where the error occurred
                  examples:
                    - "lp_stats"
                error_trace:
                  type: string
                  description: Error trace information
                  examples:
                    - "lp_stats:124]"
                    - "lp_stats:121]"
                error_type:
                  type: string
                  description: Type of error
                  enum:
                    - "DatabaseError"
                    - "PeerIdParseError"
                error_data:
                  oneOf:
                    - type: string
                      description: Database constraint error message
                      examples:
                        - "UNIQUE constraint failed: nodes.peer_id"
                        - "UNIQUE constraint failed: nodes.name"
                    - type: array
                      description: Peer ID parse error details
                      items:
                        type: string
                      example: ["12D3RsaaWRmXsJsCKGAD5FJSsd7CSbbdrsd", "decoding multihash failed"]
                id:
                  type: integer
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              type: object
              properties:
                mmrpc:
                  type: string
                  example: "2.0"
                error:
                  type: string
                  description: Error message describing the internal error
                id:
                  type: integer 