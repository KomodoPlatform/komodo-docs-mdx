/task_get_new_address_init:
  post:
    operationId: task::get_new_address::init
    summary: Initialize Get New Address Task
    description: |
      A hierarchical-deterministic (HD) wallet generates a new key pair from a master key pair, allowing for multiple addresses to be generated from the same seed.
      If you are running KDF in HD mode, and don't already have too many unused addresses, you can use this method to generate a new address.
    x-mdx-doc-path: ../../src/pages/komodo-defi-framework/api/v20/wallet/task_managed/get_new_address/index.mdx
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - method
              - userpass
              - mmrpc
              - params
            properties:
              method:
                type: string
                enum: ["task::get_new_address::init"]
                description: The method name
                example: "task::get_new_address::init"
              userpass:
                type: string
                description: RPC password for authentication
                example: "RPC_UserP@SSW0RD"
              mmrpc:
                type: string
                enum: ["2.0"]
                description: The JSON-RPC version
                example: "2.0"
              id:
                type: integer
                description: Optional. Identifies a request to allow matching it with a response. Defaults to null
              params:
                type: object
                required:
                  - coin
                  - account_id
                properties:
                  coin:
                    type: string
                    description: The ticker of the coin you want to get a new address for
                    example: "DOC"
                  account_id:
                    type: integer
                    description: Generally this will be 0 unless you have multiple accounts registered on your Trezor
                    example: 0
                  chain:
                    type: string
                    enum: ["Internal", "External"]
                    description: Internal or External. Defaults to External. External is used for addresses that are intended to be visible outside of the wallet. Internal is used for change addresses
                    default: "External"
                    example: "External"
                  gap_limit:
                    type: integer
                    description: Optional. The maximum number of empty addresses in a row. Defaults to the value provided on activation or 20 if no value was provided
                    default: 20
                    example: 20
    responses:
      '200':
        description: Task initialization successful
        content:
          application/json:
            schema:
              type: object
              properties:
                mmrpc:
                  type: string
                  description: The JSON-RPC version (should be '2.0')
                  example: "2.0"
                result:
                  type: object
                  properties:
                    task_id:
                      type: integer
                      description: An identifying number which is used to query task status
                      example: 3
                id:
                  type: integer
                  description: Identifies a response to allow matching it with a request
      '400':
        description: Bad request - Various error conditions
        content:
          application/json:
            schema:
              type: object
              properties:
                mmrpc:
                  type: string
                  example: "2.0"
                error:
                  type: string
                  description: Error message describing what went wrong
                  examples:
                    - "EmptyAddressesLimitReached"
                    - "AddressLimitReached"
                error_path:
                  type: string
                  description: Path where the error occurred
                error_trace:
                  type: string
                  description: Error trace information
                error_type:
                  type: string
                  description: Type of error
                  enum:
                    - "EmptyAddressesLimitReached"
                    - "AddressLimitReached"
                error_data:
                  type: string
                  description: Additional error data
                id:
                  type: integer
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              type: object
              properties:
                mmrpc:
                  type: string
                  example: "2.0"
                error:
                  type: string
                  description: Error message describing the internal error
                id:
                  type: integer 