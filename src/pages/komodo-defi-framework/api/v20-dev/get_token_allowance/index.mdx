export const title = "Komodo DeFi Framework Method: Get Token Allowance (v2)";
export const description =
  "The get_token_allowance method returns token allowance for address";

# get\_token\_allowance

The `get_token_allowance` method returns token allowance for address.

Refer to the [1inch Classic Swap documentation](https://portal.1inch.dev/documentation/apis/swap/classic-swap/quick-start) for more information.

## Arguments

| Structure | Type   | Description                                                                   |
| --------- | ------ | ----------------------------------------------------------------------------- |
| coin      | string | Token ticker                                                                  |
| spender   | string | Smart contract address to query spendable coins amount granted prior approval |

## Response

| Structure | Type  | Description                                                                    |
| --------- | ----- | ------------------------------------------------------------------------------ |
| result    | float | Amount of coins approved for spending via the smart contract (in coins units). |

#### ðŸ“Œ Examples

#### Command

<CodeGroup title="" tag="POST" label="get_token_allowance" mm2MethodDecorate="true">
  ```json
  {
    "mmrpc": "2.0",
    "userpass": "RPC_UserP@SSW0RD",
    "method": "get_token_allowance",
    "params": {
      "coin": "AAVE-PLG20",
      "spender": "0x083C32B38e8050473f6999e22f670d1404235592"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response

  ```json
  {
    "mmrpc": "2.0",
    "result": "1.23",
    "id": null
  }
  ```
</CollapsibleSection>


<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">

#### Error: Token config not activated

```json
{
    "mmrpc": "2.0",
    "error": "No such coin USDT-ERC20",
    "error_path": "tokens",
    "error_trace": "tokens:171]",
    "error_type": "NoSuchCoin",
    "error_data": {
        "coin": "USDT-ERC20"
    },
    "id": null
}
```

</CollapsibleSection>