export const title = "Komodo DeFi Framework Method: 1inch v6.0 Classic Swap Liquidity Sources";
export const description =
  "The 1inch_v6_0_classic_swap_liquidity_sources method returns liquidity sources for classic swaps from 1inch API version 6.0.";

# 1inch v6.0 Classic Swap Liquidity Sources

## 1inch\_v6\_0\_classic\_swap\_liquidity\_sources {{label : '1inch_v6_0_classic_swap_liquidity_sources', tag : 'API-v2'}}

The `1inch_v6_0_classic_swap_liquidity_sources` method returns liquidity sources for classic swaps from 1inch API version 6.0.

<Note>
  To use methods which interface with the 1inch API, you need to set the `1inch_api` url in your [MM2.json file](/komodo-defi-framework/setup/configure-mm2-json/).
  You'll also need to set your 1inch API key as an environment variable called `ONE_INCH_API_TEST_AUTH`, e.g. `ONE_INCH_API_TEST_AUTH="Bearer YourAPIkey"`.

  As this feature is still experimental, you will need to [build KDF from source](https://github.com/KomodoPlatform/komodo-defi-framework?tab=readme-ov-file#building-from-source) on the dev branch with a build flag, e.g. `cargo build --features test-ext-api`.
</Note>

Refer to the [1inch Classic Swap documentation](https://portal.1inch.dev/documentation/apis/swap/classic-swap/quick-start) for more information.

### Request Arguments

| Parameter | Type    | Description |
| --------- | ------- | ----------- |
| chain\_id | numeric | Chain id    |

### Response Parameters

| Parameter   | Type            | Description                                                                                                                           |
| ----------- | --------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| dst\_amount | rational number | Destination token amount, in coins units.                                                                                             |
| protocols   | list            | Optional. A list of standard [1inchProtocolImage](/komodo-defi-framework/api/common_structures/orders/#1inch-protocol-image) objects. |

#### ðŸ“Œ Examples

#### Command

<CodeGroup title="" tag="POST" label="1inch_v6_0_classic_swap_liquidity_sources" mm2MethodDecorate="true">
  ```json
  {
    "mmrpc": "2.0",
    "userpass": "RPC_UserP@SSW0RD",
    "method": "1inch_v6_0_classic_swap_liquidity_sources",
    "params": {
      "chain_id": 1
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response

  ```json
  {
  "mmrpc": "2.0",
  "result": {
    "protocols": [
      {
        "id": "UNISWAP_V1",
        "title": "Uniswap V1",
        "img": "https://cdn.1inch.io/liquidity-sources-logo/uniswap.png",
        "img_color": "https://cdn.1inch.io/liquidity-sources-logo/uniswap_color.png"
      },
      {
        "id": "UNISWAP_V2",
        "title": "Uniswap V2",
        "img": "https://cdn.1inch.io/liquidity-sources-logo/uniswap.png",
        "img_color": "https://cdn.1inch.io/liquidity-sources-logo/uniswap_color.png"
      },
      {
        "id": "SUSHI",
        "title": "SushiSwap",
        "img": "https://cdn.1inch.io/liquidity-sources-logo/sushiswap.png",
        "img_color": "https://cdn.1inch.io/liquidity-sources-logo/sushiswap_color.png"
      }
    ]
  }
  }
  ```
</CollapsibleSection>

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  #### Error: Configuration missing

  The `1inch_api` url not set in your [MM2.json file](/komodo-defi-framework/setup/configure-mm2-json/).

  ```json
  {
      "mmrpc": "2.0",
      "error": "No API config param",
      "error_path": "rpcs.client",
      "error_trace": "rpcs:137] client:105]",
      "error_type": "InvalidParam",
      "error_data": "No API config param",
      "id": null
  }
  ```

  #### Error: Authentication failure

  `ONE_INCH_API_TEST_AUTH` environment variable not set, or incorrect.

  ```json
  {
      "mmrpc": "2.0",
      "error": "1inch API error: General API error: Unauthorized description: ",
      "error_path": "rpcs.client",
      "error_trace": "rpcs:140] client:152]",
      "error_type": "OneInchError",
      "error_data": {
          "GeneralApiError": {
              "error_msg": "Unauthorized",
              "description": "",
              "status_code": 401
          }
      },
      "id": null
  }
  ```
</CollapsibleSection>
