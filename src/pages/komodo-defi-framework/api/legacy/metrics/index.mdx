export const title = "Komodo DeFi Framework Method: Metrics";
export const description = "The metrics method returns a snapshot of the current Komodo DeFi Framework API metrics used in Prometheus and Grafana.";

# Metrics

## metrics {{label : 'metrics', tag : 'API-v1'}}

The `metrics` method returns a snapshot of the current Komodo DeFi Framework API metrics used in [Prometheus](https://prometheus.io/) and [Grafana](https://grafana.com/).
For more information, check out the [Komodo DeFi Framework metrics guide](/komodo-defi-framework/tutorials/api-metrics/).

### Request arguments

| Parameter | Type | Required | Description                               |
| --------- | ---- | :------: | ----------------------------------------- |
| (none)    |      |     -    | This method does not take any parameters. |

### Response

| Parameter | Type            | Description                                                                                                                              |
| --------- | --------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| metrics   | list of objects | There are a variety of metrics returned, with each metrics object having a `type`, `key`, `label`, and some values which vary by `type`. |

#### Metrics object

| Parameter | Type   | Description                                                                                                                                                         |
| --------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| type      | string | A standard [MetricTypeEnum](/komodo-defi-framework/api/common_structures/enums/#metric-type-enum) enum which indicates how it should be displayed in visualisation. |
| key       | string | A descriptive name assigned to the metric.                                                                                                                          |
| labels    | object | Labels can be used to group similar metrics together or provide additional context.                                                                                 |
| value     | float  | Returned if `type` is `gauge`. A numeric value which indicates the magnitude of the metric being measured.                                                          |
| count     | float  | Returned if `type` is `histogram`. How many values were measured.                                                                                                   |
| min       | float  | Returned if `type` is `histogram`. The smallest value measured.                                                                                                     |
| max       | float  | Returned if `type` is `histogram`. The highest value measured.                                                                                                      |

#### ðŸ“Œ Example

#### Request

<CodeGroup title="metrics" tag="POST" label="metrics" mm2MethodDecorate="true">
  ```json
  {
    "method": "metrics",
    "userpass": "RPC_UserP@SSW0RD"
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response

  ```json
  {
      "metrics": [
          {
              "type": "counter",
              "key": "tx.history.response.count",
              "labels": {
                  "coin": "MARTY",
                  "method": "tx_detail_by_hash"
              },
              "value": 25
          }
      ]
  }
  ```
</CollapsibleSection>
