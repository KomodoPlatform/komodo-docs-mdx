export const title = "Komodo DeFi Framework Method: My Tx History";
export const description =
  "The my_tx_history method returns the blockchain transactions involving the Komodo DeFi Framework API node's coin address.";

# My Tx History

## my\_tx\_history {{label: 'my_tx_history', tag: 'API-v1'}}

The `my_tx_history` method returns the blockchain transactions involving the Komodo DeFi Framework API node's coin address.

The coin that is used must have `tx_history` set to `true` in its [enable](/komodo-defi-framework/api/legacy/coin_activation/enable/#enable) or [electrum](/komodo-defi-framework/api/legacy/coin_activation/electrum/#electrum) call.

<Note>
  This method is deprecated and is incompatible with coins activated in HD mode. Use the [v2 my\_tx\_history](/komodo-defi-framework/api/v20/wallet/tx/my_tx_history/) method instead.
</Note>

### Request Parameters

| Parameter    | Type   | Required | Default | Description                                                                                                                                                                                                       |
| ------------ | ------ | :------: | :-----: | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| coin         | string |     âœ“    |    -    | The name of the coin for the history request                                                                                                                                                                      |
| from\_id     | string |     âœ—    |    -    | Komodo DeFi Framework API will skip records until it reaches this ID, skipping the `from_id` as well; track the `internal_id` of the last displayed transaction to find the value of this field for the next page |
| limit        | number |     âœ—    |   `10`  | Limits the number of returned transactions; ignored if `max = true`                                                                                                                                               |
| max          | bool   |     âœ—    | `false` | Whether to return all available records; defaults to `false`                                                                                                                                                      |
| page\_number | number |     âœ—    |    -    | Komodo DeFi Framework API will return limit swaps from the selected page; this param will be ignored if from\_id is set.                                                                                          |

### Response parameters

| Parameter      | Type             | Description                                                                                                                                                                                          |
| -------------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| current\_block | number           | The number of the latest block of coin blockchain                                                                                                                                                    |
| from\_id       | string           | The from\_id specified in the request; this value is null if from\_id was not set                                                                                                                    |
| limit          | number           | The limit that was set in the request; note that the actual number of transactions can differ from the specified limit (e.g. on the last page)                                                       |
| page\_number   | number           | The page\_number that was set in the request                                                                                                                                                         |
| skipped        | number           | The number of skipped records (i.e. the position of `from_id` in the list + 1); this value is 0 if `from_id` was not set                                                                             |
| sync\_status   | object           | A standard [SyncStatus](/komodo-defi-framework/api/common_structures/#sync-status) object. Provides the information that helps to track the progress of transaction history preloading at background |
| total          | number           | The total number of transactions available                                                                                                                                                           |
| total\_pages   | number           | Total pages available with the selected limit                                                                                                                                                        |
| transactions   | array of objects | Transactions data                                                                                                                                                                                    |

#### ðŸ“Œ Examples

#### Request

<CodeGroup title="my_tx_history" tag="POST" label="my_tx_history" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "my_tx_history",
    "coin": "DOC",
    "limit": 1,
    "from_id": "1d5c1b67f8ebd3fc480e25a1d60791bece278f5d1245c5f9474c91a142fee8e1"
  }
  ```
</CodeGroup>

<CodeGroup title="my_tx_history (max = true)" tag="POST" label="my_tx_history" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "my_tx_history",
    "coin": "DOC",
    "max": true,
    "from_id": "1d5c1b67f8ebd3fc480e25a1d60791bece278f5d1245c5f9474c91a142fee8e1"
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response (success)

  ```json
  {
      "result": {
          "current_block": 172418,
          "from_id": null,
          "limit": 1,
          "skipped": 0,
          "sync_status": {
              "additional_info": {
                  "transactions_left": 126
              },
              "state": "InProgress"
          },
          "total": 5915,
          "total_pages": 5915,
          "page_number": null,
          "transactions": [
              {
                  "block_height": 172409,
                  "coin": "ETOMIC",
                  "confirmations": 10,
                  "fee_details": {
                      "type": "Utxo",
                      "amount": "0.00001"
                  },
                  "from": ["R9o9xTocqr6CeEDGDH6mEYpwLoMz6jNjMW"],
                  "internal_id": "903e5d71b8717205314a71055fe8bbb868e7b76d001fbe813a34bd71ff131e93",
                  "my_balance_change": "-0.10001",
                  "received_by_me": "0.8998513",
                  "spent_by_me": "0.9998613",
                  "timestamp": 1566539526,
                  "to": [
                      "R9o9xTocqr6CeEDGDH6mEYpwLoMz6jNjMW",
                      "bJrMTiiRiLHJHc6RKQgesKTg1o9VVuKwT5"
                  ],
                  "total_amount": "0.9998613",
                  "tx_hash": "903e5d71b8717205314a71055fe8bbb868e7b76d001fbe813a34bd71ff131e93",
                  "tx_hex": "0400008085202f8901a242dc691de64c732e823ed0a4d8cfa6a230f8e31bc9bd21499009f1a90b855a010000006b483045022100d83113119004ac0504f812a853a831039dfc4b0bc1cb863d2c7a94c0670f07e902206af87b846b18c0d5e38bd874d43918e0400e4b6b838ab0793f5976843daa20cd012102031d4256c4bc9f99ac88bf3dba21773132281f65f9bf23a59928bce08961e2f3ffffffff02809698000000000017a9144327a5516b28f66249576c18d15debf6dfbd1124876a105d05000000001976a91405aab5342166f8594baf17a7d9bef5d56744332788ac047f5f5d000000000000000000000000000000"
              }
          ]
      }
  }
  ```
</CollapsibleSection>

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  #### Error responses

  ```json
  { "error": "Coin is not active" }
  ```

  ```json
  { "error": "Not supported for this coin" }
  ```

  ```json
  { "error": "Storage is not initialized for this coin" }
  ```

  ```json
  { "error": "Local database failed" }
  ```

  ```json
  { "error": "from_id not found" }
  ```

  ```json
  { "error": "History too large" }
  ```
</CollapsibleSection>
