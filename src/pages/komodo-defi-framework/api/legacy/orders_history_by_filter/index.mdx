export const title = "Komodo DeFi Framework Method: Orders History By Filter";
export const description = "The orders_history_by_filter method returns all orders, whether active or inactive, that match the selected filters.";

# Orders History By Filter

## orders\_history\_by\_filter {{label: 'orders_history_by_filter', tag: 'API-v1'}}

The `orders_history_by_filter` method returns all orders, whether active or inactive, that match the selected filters. All filters are combined using logical `AND`.

### Request Parameters

| Parameter        | Type    | Required | Description                                                                                                                                              |
| ---------------- | ------- | :------: | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| base             | string  |     âœ—    | Return only orders that match the `order.base = base` condition                                                                                          |
| from\_price      | varies  |     âœ—    | Return only orders that match the `order.price >= from_price` condition                                                                                  |
| from\_timestamp  | integer |     âœ—    | Timestamp in UNIX format. Return only orders that match the `order.created_at >= from_timestamp` condition                                               |
| from\_volume     | varies  |     âœ—    | Return only orders that match the `order.volume >= from_volume` condition                                                                                |
| include\_details | bool    |     âœ—    | Whether to include complete order details in response; defaults to false                                                                                 |
| initial\_action  | string  |     âœ—    | Return only orders that match the `initial_action`; `initial_action` can be "Sell" or "Buy". Note that maker order `initial_action` is considered "Sell" |
| order\_type      | string  |     âœ—    | A standard [OrderTypeEnum](/komodo-defi-framework/api/common_structures/enums/#order-type-enum) enum. Return only orders that match the `order_type`     |
| rel              | string  |     âœ—    | Return only orders that match the `order.rel = rel` condition                                                                                            |
| status           | string  |     âœ—    | A standard [OrderStatusEnum](/komodo-defi-framework/api/common_structures/enums/#order-status-enum) enum. Return only orders that match the `status`     |
| to\_price        | varies  |     âœ—    | Return only orders that match the `order.price <= to_price` condition                                                                                    |
| to\_timestamp    | number  |     âœ—    | Timestamp in UNIX format. Return only orders that match the `order.created_at <= to_timestamp` condition                                                 |
| to\_volume       | varies  |     âœ—    | Return only orders that match the `order.volume <= to_volume` condition                                                                                  |
| was\_taker       | bool    |     âœ—    | Return only `GoodTillCancelled` orders that got converted from `taker` to `maker`                                                                        |

### Response parameters

| Parameter      | Type                   | Description                                                                                                                              |
| -------------- | ---------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| details        | array                  | Array of complete order details for every order that matches the selected filters; returns `[]` if `include_details` is false or not set |
| found\_records | number                 | The number of returned orders                                                                                                            |
| orders         | array of order objects | Array of [OrderSummaryData](/komodo-defi-framework/api/common_structures/orders/#order-summary-data) that match the selected filters.    |
| warnings       | array                  | Array containing warnings objects                                                                                                        |

#### ðŸ“Œ Examples

#### Request (select orders from history that have order\_type = Taker and initial\_action = Buy)

<CodeGroup title="orders_history_by_filter" tag="POST" label="orders_history_by_filter" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "orders_history_by_filter",
    "order_type": "Taker",
    "initial_action": "Buy"
  }
  ```
</CodeGroup>

#### Command (select orders from history that have base = DOC and rel = MARTY)

<CodeGroup title="" tag="POST" label="orders_history_by_filter" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "orders_history_by_filter",
    "base": "DOC",
    "rel": "MARTY"
  }
  ```
</CodeGroup>

#### Command (select orders from history that have base = DOC and price >= 1 and volume {"<="} 1)

<CodeGroup title="" tag="POST" label="orders_history_by_filter" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "orders_history_by_filter",
    "base": "DOC",
    "from_price": 1,
    "to_volume": 1
  }
  ```
</CodeGroup>

#### Command (select orders from history that was\_taker and created\_at >= 1611705600 (January 27, 2021 0:00:00 GMT))

<CodeGroup title="" tag="POST" label="orders_history_by_filter" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "orders_history_by_filter",
    "was_taker": true,
    "from_timestamp": 1611705600
  }
  ```
</CodeGroup>

#### Command (select orders with details from history that was cancelled because it timed-out)

<CodeGroup title="" tag="POST" label="orders_history_by_filter" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "orders_history_by_filter",
    "status": "Timed Out",
    "include_details": true
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response

  ```json
  {
      // ... example response ...
  }
  ```
</CollapsibleSection>
