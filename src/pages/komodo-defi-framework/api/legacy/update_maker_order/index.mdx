export const title = "Komodo DeFi Framework Method: Update Maker Order";
export const description = "The update_maker_order method modifies an active order on the orderbook created by the current node as a maker (or Bob).";

# Komodo DeFi Framework Method: Update Maker Order

## update\_maker\_order {{label: 'update_maker_order', tag: 'API-v1'}}

The `update_maker_order` method updates an active order on the orderbook created before by `setprice`, and it relies on this node acting as a maker (also called a Bob node).

<Note>
  To prevent a user from making trades in which the transaction fees may end up costing a significant portion of the value of the trade, there is a lower limit to the value of a trade. See the description of the `volume_delta` and `min_volume` arguments for more information.
</Note>

### Request arguments

| Parameter     | Type                                  | Required | Default | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------- | ------------------------------------- | :------: | :-----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| base\_confs   | number (optional)                     |     ✗    |    -    | Number of required blockchain confirmations for base coin atomic swap transaction; defaults to base coin configuration if not set                                                                                                                                                                                                                                                                                                                                                                 |
| base\_nota    | bool (optional)                       |     ✗    |    -    | Whether dPoW notarization is required for base coin atomic swap transaction; defaults to base coin configuration if not set                                                                                                                                                                                                                                                                                                                                                                       |
| max           | bool (optional)                       |     ✗    | `false` | Komodo DeFi Framework API will use the entire coin balance for the order, taking `0.001` coins into reserve to account for fees                                                                                                                                                                                                                                                                                                                                                                   |
| min\_volume   | numeric string or rational (optional) |     ✗    |    -    | The minimum amount of `base` coin available for the order; it must be less or equal than the new volume; the following values must be greater than or equal to the `min_trading_vol` of the corresponding coin: <ul><li>the argument `min_volume`</li><li>the product of the arguments `min_volume` and `new_price`</li></ul>                                                                                                                                                                     |
| new\_price    | numeric string or rational (optional) |     ✗    |    -    | The price in `rel` the user is willing to receive per one unit of the `base` coin                                                                                                                                                                                                                                                                                                                                                                                                                 |
| rel\_confs    | number (optional)                     |     ✗    |    -    | Number of required blockchain confirmations for rel coin atomic swap transaction; defaults to rel coin configuration if not set                                                                                                                                                                                                                                                                                                                                                                   |
| rel\_nota     | bool (optional)                       |     ✗    |    -    | Whether dPoW notarization is required for rel coin atomic swap transaction; defaults to rel coin configuration if not set                                                                                                                                                                                                                                                                                                                                                                         |
| uuid          | string                                |     ✓    |    -    | The uuid of the order the user desires to update                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| volume\_delta | numeric string or rational (optional) |     ✗    |    -    | Volume added to or subtracted from the `max_base_vol` of the order to be updated, resulting in the new volume which is the maximum amount of `base` coin available for the order, ignored if max is `true`; the following values must be greater than or equal to the `min_trading_vol` of the corresponding coin: <ul><li>the new volume which is the `max_base_vol` of the order to be updated plus `volume_delta`</li><li>the product of the new volume and the argument `new_price`</li></ul> |

### Response parameters

| Parameter           | Type             | Description                                                                                                                        |
| ------------------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| base                | string           | The base coin of the order                                                                                                         |
| conf\_settings      | object           | A standard [ConfSettings](/komodo-defi-framework/api/common_structures/orders/#conf-settings) object.                              |
| created\_at         | number           | Unix timestamp in milliseconds, indicating the order creation time                                                                 |
| matches             | object           | Contains the map of ongoing matches with other orders, empty as the order was recently created                                     |
| max\_base\_vol      | string (numeric) | The maximum volume of base coin available to trade; decimal representation                                                         |
| max\_base\_vol\_rat | rational         | The maximum volume of base coin available to trade; rational representation                                                        |
| min\_base\_vol      | string (numeric) | Komodo DeFi Framework API will not match with other orders that attempt to trade less than `min_base_vol`; decimal representation  |
| min\_base\_vol\_rat | rational         | Komodo DeFi Framework API will not match with other orders that attempt to trade less than `min_base_vol`; rational representation |
| price               | string (numeric) | The expected amount of `rel` coin to be received per 1 unit of `base` coin; decimal representation                                 |
| price\_rat          | rational         | The expected amount of `rel` coin to be received per 1 unit of `base` coin; rational representation                                |
| rel                 | string           | The rel coin of the order                                                                                                          |
| started\_swaps      | array of strings | UUIDs of swaps that were initiated by the order                                                                                    |
| updated\_at         | number           | Unix timestamp in milliseconds, indicating the order update time                                                                   |
| uuid                | string           | UUID of the updated order                                                                                                          |

#### 📌 Examples

#### Request (with volume)

<CodeGroup title="update_maker_order" tag="POST" label="update_maker_order" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "update_maker_order",
    "uuid": "6a242691-6c05-474a-85c1-5b3f42278f41",
    "new_price": "0.9",
    "volume_delta": "1"
  }
  ```
</CodeGroup>

#### Request (max = true)

<CodeGroup title="update_maker_order" tag="POST" label="update_maker_order" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "update_maker_order",
    "uuid": "6a242691-6c05-474a-85c1-5b3f42278f41",
    "new_price": "0.9",
    "max": true
  }
  ```
</CodeGroup>

#### Request (rational representation in num-rational crate format)

<CodeGroup title="update_maker_order" tag="POST" label="update_maker_order" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "update_maker_order",
    "uuid": "6a242691-6c05-474a-85c1-5b3f42278f41",
    "volume_delta": [
      [
        1,
        [
          1
        ]
      ],
      [
        1,
        [
          1
        ]
      ]
    ],
    "new_price": [
      [
        1,
        [
          1
        ]
      ],
      [
        1,
        [
          1
        ]
      ]
    ]
  }
  ```
</CodeGroup>

#### Request (rational representation as fraction object)

<CodeGroup title="update_maker_order" tag="POST" label="update_maker_order" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "update_maker_order",
    "uuid": "6a242691-6c05-474a-85c1-5b3f42278f41",
    "volume_delta": {
      "numer": "3",
      "denom": "2"
    },
    "new_price": {
      "numer": "2",
      "denom": "1"
    }
  }
  ```
</CodeGroup>

#### Request (with min\_volume)

<CodeGroup title="update_maker_order" tag="POST" label="update_maker_order" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "update_maker_order",
    "uuid": "6a242691-6c05-474a-85c1-5b3f42278f41",
    "volume_delta": {
      "numer": "3",
      "denom": "2"
    },
    "new_price": {
      "numer": "2",
      "denom": "1"
    },
    "min_volume": "1"
  }
  ```
</CodeGroup>

#### Request (with confirmations and notarization settings)

<CodeGroup title="update_maker_order" tag="POST" label="update_maker_order" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "update_maker_order",
    "uuid": "6a242691-6c05-474a-85c1-5b3f42278f41",
    "volume_delta": {
      "numer": "3",
      "denom": "2"
    },
    "new_price": {
      "numer": "2",
      "denom": "1"
    },
    "base_confs": 2,
    "base_nota": true,
    "rel_confs": 5,
    "rel_nota": false
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response (success)

  ```json
  {
      "result": {
          "base": "BASE",
          "rel": "REL",
          "max_base_vol": "1",
          "max_base_vol_rat": [
              [1, [1]],
              [1, [1]]
          ],
          "min_base_vol": "0",
          "min_base_vol_rat": [
              [0, []],
              [1, [1]]
          ],
          "created_at": 1559052299258,
          "updated_at": 1619736650000,
          "matches": {},
          "price": "1",
          "price_rat": [
              [1, [1]],
              [1, [1]]
          ],
          "started_swaps": [],
          "uuid": "6a242691-6c05-474a-85c1-5b3f42278f41",
          "conf_settings": {
              "base_confs": 2,
              "base_nota": true,
              "rel_confs": 5,
              "rel_nota": false
          }
      }
  }
  ```

  <CollapsibleSection expandedText="Hide Error Response" collapsedText="Show Error Response">
    #### ⚠️ Error Response

    ```json
    { "error": "There is no order with UUID  6a242691-6c05-474a-85c1-5b3f42278f41" }
    ```
  </CollapsibleSection>
</CollapsibleSection>
