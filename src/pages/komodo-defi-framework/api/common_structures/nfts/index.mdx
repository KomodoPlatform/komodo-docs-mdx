export const title = "Komodo DeFi SDK Common Structures: Non-Fungible Tokens";
export const description = "Starting with version beta-2.1.3434, the Komodo DeFi SDK supports the standardized protocol format called mmrpc 2.0.";

# NFT Common Structures

## nfts-common-structures {{label : 'nfts_common_structures', tag : 'structures'}}

The following structures are used in the Komodo DeFi SDK for non-fungible tokens (NFTs).

### GetNftTransfersFilters

| Parameter         | Type    | Required | Default | Description                                                                                                                                   |
| ----------------- | ------- | :------: | :-----: | --------------------------------------------------------------------------------------------------------------------------------------------- |
| receive           | boolean |     ✗    | `false` | If `true`, only transfers where user received NFTs are included in the response.                                                              |
| send              | boolean |     ✗    | `false` | If `true`, only transfers where user sent NFTs are included in the response.                                                                  |
| from\_date        | integer |     ✗    |   `-`   | A timestamp in [unix epoch format](https://www.epochconverter.com/). If `true`, filter includes transfers from this date onwards (inclusive). |
| to\_date          | integer |     ✗    |   `-`   | A timestamp in [unix epoch format](https://www.epochconverter.com/). If `true`, filter includes transfers up to this date (inclusive).        |
| exclude\_spam     | boolean |     ✗    | `false` | If `true`, only transfers which have param `possible_spam:false` are included in the response.                                                |
| exclude\_phishing | boolean |     ✗    | `false` | If `true`, only transfers which have param `possible_phishing:false` are included in the response.                                            |

### NftFilter

The `NftFilter` object includes the following items for a given coin or token:

| Parameter         | Type    | Required | Default | Description                                                                                     |
| ----------------- | ------- | :------: | :-----: | ----------------------------------------------------------------------------------------------- |
| exclude\_spam     | boolean |     ✗    | `false` | If `true`, only tokens which have param `possible_spam:false` are included in the response.     |
| exclude\_phishing | boolean |     ✗    | `false` | If `true`, only tokens which have param `possible_phishing:false` are included in the response. |

### NftInfoBasic

The `NftInfoBasic` object includes the following items for a given token:

| Parameter      | Type   | Required | Description                                                           |
| -------------- | ------ | :------: | --------------------------------------------------------------------- |
| amount         | string |     ✓    | The amount of this NFT the user owns (used by `ERC1155`).             |
| chain          | string |     ✓    | Chain name. One of `AVALANCHE`, `BSC`, `ETH`, `FANTOM`, or `POLYGON`. |
| contract\_type | string |     ✓    | The type of NFT contract standard. One of `ERC721` or `ERC1155`.      |
| token\_address | string |     ✓    | The address of the NFT contract.                                      |
| token\_id      | string |     ✓    | The token ID of the NFT.                                              |

### NftInfo

The `NftInfo` object includes the following items for a given token:

| Parameter              | Type    | Required | Description                                                                                                                                                           |
| ---------------------- | ------- | :------: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| amount                 | string  |     ✓    | The amount of this NFT the user owns (used by `ERC1155`).                                                                                                             |
| block\_number\_minted  | integer |     ✗    | The block height when the NFT was minted. May be `null`.                                                                                                              |
| block\_number          | integer |     ✓    | The block height when the amount or owner changed.                                                                                                                    |
| chain                  | string  |     ✓    | Chain name. One of `AVALANCHE`, `BSC`, `ETH`, `FANTOM`, or `POLYGON`.                                                                                                 |
| contract\_type         | string  |     ✓    | The type of NFT contract standard. One of `ERC721` or `ERC1155`.                                                                                                      |
| last\_token\_uri\_sync | string  |     ✓    | When the token\_uri was last updated.                                                                                                                                 |
| last\_metadata\_sync   | string  |     ✓    | When the metadata was last updated.                                                                                                                                   |
| metadata               | object  |     ✗    | A JSON object containing NFT metadata. May be `null`.                                                                                                                 |
| minter\_address        | string  |     ✗    | Minter address. May be `null`.                                                                                                                                        |
| owner\_of              | string  |     ✓    | The wallet address of the owner of the NFT.                                                                                                                           |
| possible\_spam         | boolean |     ✓    | If `true`, the contract address has [been identified](https://docs.moralis.io/web3-data-api/evm/nft-spam-detection) as associated with spam or suspicious activities. |
| possible\_phishing     | boolean |     ✓    | If `true`, the token has been identified as associated with phishing, as at least one of domain fields is found in database with phishing domains.                    |
| synced\_at             | string  |     ✓    | When the token was last synced with the node.                                                                                                                         |
| token\_address         | string  |     ✓    | The address of the NFT contract.                                                                                                                                      |
| token\_id              | string  |     ✓    | The token ID of the NFT.                                                                                                                                              |
| token\_hash            | string  |     ✗    | The token hash. May be `null`.                                                                                                                                        |
| token\_uri             | string  |     ✗    | The URI to the metadata of the token. May be `null`.                                                                                                                  |
| token\_domain          | string  |     ✗    | Token domain. May be `null`.                                                                                                                                          |
| uri\_meta              | object  |     ✓    | A standard [NftMetadata](/komodo-defi-framework/api/common_structures/nfts/#nft-metadata) object.                                                                     |

### NftMetadata

The `NftMetadata` object includes the following items for a given coin or token:

| Parameter         | Type                       | Required | Default | Description                                                                                                                                  |
| ----------------- | -------------------------- | :------: | :-----: | -------------------------------------------------------------------------------------------------------------------------------------------- |
| image             | string                     |     ✗    |    -    | Direct URL to the NFT's image.                                                                                                               |
| image\_url        | string                     |     ✗    |    -    | Url to the NFT's image. Derived from the `image` or `image_url` fields to prioritize the non-null value. Can be null if neither is provided. |
| image\_domain     | string                     |     ✗    |    -    | Extracted domain from the 'image\_url', if valid.                                                                                            |
| name              | string                     |     ✗    |    -    | Name of the token.                                                                                                                           |
| description       | string                     |     ✗    |    -    | Description of the token.                                                                                                                    |
| attributes        | object or array of objects |     ✗    |    -    | The values within this parameter will vary, and are set by the creator. Often used to store traits.                                          |
| animation\_url    | string                     |     ✗    |    -    | Url to an animation to be displayed instead of a static image.                                                                               |
| animation\_domain | string                     |     ✗    |    -    | Extracted domain from the `animation_url`, if valid.                                                                                         |
| external\_url     | string                     |     ✗    |    -    | URL to the external source related to the token.                                                                                             |
| external\_domain  | string                     |     ✗    |    -    | Extracted domain from the `external_url`, if valid.                                                                                          |
| image\_details    | object                     |     ✗    |    -    | JSON containing additional details or attributes of the image.                                                                               |

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  ```json
  [
      {
          "trait_type": "Specialization",
          "value": "Thief"
      },
      {
          "trait_type": "Skin Tone",
          "value": "#0013b0"
      },
      {
          "trait_type": "Weapon",
          "value": "Crossbow"
      },
      {
          "trait_type": "Species",
          "value": "Dark Elf"
      },
      {
          "trait_type": "Gender",
          "value": "Female"
      },
      {
          "trait_type": "Strength",
          "value": "8"
      },
      {
          "trait_type": "Dexterity",
          "value": "12"
      },
      {
          "trait_type": "Intelligence",
          "value": "10"
      },
      {
          "trait_type": "Perks",
          "value": ["Steath", "Eagle Eye", "Lockpicking", "Pickpocketing", "Fire resistance"]
      },
      {
          "trait_type": "Weakness",
          "value": ["Slow healing", "Elfbark Addict", "Lockpicking", "Fear of cats", "Unconvincing liar"]
      },
      {
          "trait_type": "Personality",
          "value": "Aggressive"
      }
  ]
  ```
</CollapsibleSection>

### NftProvider

The `NftProvider` object is used in the 'enable\_nft' RPC method. It defines the NFT providers that are avaialable and their configuration.

| Parameter          | Type    | Required | Default | Description                                                        |
| ------------------ | ------- | :------: | :-----: | ------------------------------------------------------------------ |
| type               | string  |     ✓    |    -    | Specifies the type of the provider.                                |
| info               | object  |     ✓    |    -    | Additional information about the provider                          |
| info.url           | string  |     ✓    |    -    | URL of the provider's endpoint                                     |
| info.komodo\_proxy | boolean |     ✗    |    -    | Indicates whether proxy authentication is enabled for the endpoint |

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  ```json
  {
      "type": "Moralis",
      "info": {
          "url": "https://moralis-proxy.komodo.earth",
          "komodo_proxy": true
      }
  }
  ```
</CollapsibleSection>

### NftTransfer

The `NftTransfer` object includes the following items for each token transaction:

| Parameter          | Type    | Description                                                                                                                                                           |
| ------------------ | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| amount             | string  | Amount of tokens transferred.                                                                                                                                         |
| block\_hash        | string  | May be `null`. Hash of block in which transfer occurred.                                                                                                              |
| block\_number      | integer | Height of block in which transfer occurred.                                                                                                                           |
| block\_timestamp   | integer | Block time in [unix epoch format](https://www.epochconverter.com/).                                                                                                   |
| chain              | string  | Chain name. One of `AVALANCHE`, `BSC`, `ETH`, `FANTOM`, or `POLYGON`.                                                                                                 |
| token\_uri         | string  | May be `null`. The URI to the metadata of the token.                                                                                                                  |
| token\_domain      | string  | May be `null`. Extracted domain from the `token_uri`, if valid.                                                                                                       |
| collection\_name   | string  | May be `null`. Name of collection which token belongs to.                                                                                                             |
| image\_url         | string  | May be `null`. The URI to the token image.                                                                                                                            |
| image\_domain      | string  | May be `null`. Extracted domain from the `image_url`, if valid.                                                                                                       |
| token\_name        | string  | May be `null`. Name of the token.                                                                                                                                     |
| contract\_type     | string  | Contract type. `ERC721` or `ERC1155`.                                                                                                                                 |
| token\_address     | string  | Address of token transferred.                                                                                                                                         |
| token\_id          | string  | Token ID.                                                                                                                                                             |
| possible\_spam     | boolean | If `true`, the contract address has [been identified](https://docs.moralis.io/web3-data-api/evm/nft-spam-detection) as associated with spam or suspicious activities. |
| possible\_phishing | boolean | If `true`, the token has been identified as associated with phishing, as at least one of domain fields is found in database with phishing domains.                    |
| transaction\_hash  | string  | Transaction ID of the transfer.                                                                                                                                       |
| transaction\_index | string  | May be `null`. Transaction index of the transfer.                                                                                                                     |
| log\_index         | string  | Log index of the transfer.                                                                                                                                            |
| value              | string  | May be `null`. Tranfer value.                                                                                                                                         |
| transaction\_type  | string  | May be `null`. Transaction type. Possible values are `Single`.                                                                                                        |
| from\_address      | string  | Address of previous owner which sent the token(s).                                                                                                                    |
| to\_address        | string  | Address of new owner which received the token(s).                                                                                                                     |
| status             | string  | Transfer status. Will be either `Send` or `Receive`. When the `from_address` and `to_address` are the same (i.e. sending to yourself), this value will be `Receive`.  |
| verified           | integer | May be `null`. A deprecated field which will be removed in future.                                                                                                    |
| operator           | string  | May be `null`.                                                                                                                                                        |
| fee\_details       | object  | Optional. A standard [FeeInfo](/komodo-defi-framework/api/common_structures/wallet/#fee-info) object.                                                                 |
| confirmations      | integer | The count of blocks produced since this transaction was confirmed.                                                                                                    |

<DevComment>
  `verified` has no description. Related to [https://cointelegraph.com/news/nft-whale-pranksy-pranked-by-fake-banksy-for-97-7-eth](https://cointelegraph.com/news/nft-whale-pranksy-pranked-by-fake-banksy-for-97-7-eth)? Who verifies it? I can see there are ways to verify on opensea etc, I assume Moralis incorporates this.
  What are the other possible values for `transaction_type`?
  What is `operator`?
  What does `verified` mean?
</DevComment>

### NftTransferFilter

The `NftTransferFilter` object includes the following items for a given coin or token:

| Parameter         | Type    | Required | Default | Description                                                                                                                                   |
| ----------------- | ------- | :------: | :-----: | --------------------------------------------------------------------------------------------------------------------------------------------- |
| receive           | boolean |     ✗    | `false` | If `true`, only transfers where user received NFTs are included in the response.                                                              |
| send              | boolean |     ✗    | `false` | If `true`, only transfers where user sent NFTs are included in the response.                                                                  |
| from\_date        | integer |     ✗    |    -    | A timestamp in [unix epoch format](https://www.epochconverter.com/). If `true`, filter includes transfers from this date onwards (inclusive). |
| to\_date          | integer |     ✗    |    -    | A timestamp in [unix epoch format](https://www.epochconverter.com/). If `true`, filter includes transfers up to this date (inclusive).        |
| exclude\_spam     | boolean |     ✗    | `false` | If `true`, only transfers which have param `possible_spam:false` are included in the response.                                                |
| exclude\_phishing | boolean |     ✗    | `false` | If `true`, only transfers which have param `possible_phishing:false` are included in the response.                                            |

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  ```json
  {
      "ticker": "MINDS-ERC20",
      "required_confirmations": 4
  }
  ```
</CollapsibleSection>

### MoralisNftDetails

| Parameter              | Type    | Required | Description                                                           |
| ---------------------- | ------- | :------: | --------------------------------------------------------------------- |
| amount                 | string  |     ✓    | The amount of this NFT the user owns (used by `ERC1155`).             |
| block\_number\_minted  | integer |     ✗    | The block height when the NFT was minted. May be `null`.              |
| block\_number          | integer |     ✓    | The block height when the amount or owner changed.                    |
| chain                  | string  |     ✓    | Chain name. One of `AVALANCHE`, `BSC`, `ETH`, `FANTOM`, or `POLYGON`. |
| name                   | string  |     ✗    | May be `null`. An NFT collection name.                                |
| contract\_type         | string  |     ✓    | The type of NFT contract standard. One of `ERC721` or `ERC1155`.      |
| last\_token\_uri\_sync | string  |     ✓    | When the token\_uri was last updated.                                 |
| metadata               | string  |     ✗    | May be `null` or a JSON stringified object containing NFT metadata.   |
| normalized\_metadata   | object  |     ✗    | A JSON object containing NFT metadata.                                |
| possible\_spam         | boolean |     ✓    | Indicates if the NFT collection is flagged as spam.                   |
| symbol                 | string  |     ✗    | May be `null`. The symbol of the NFT collection.                      |
| synced\_at             | string  |     ✓    | When the NFT was last synced with the node.                           |
| token\_address         | string  |     ✓    | The smart contract address of this NFT.                               |
| token\_hash            | string  |     ✓    | A hash uniquely identifying this NFT's metadata.                      |
| token\_id              | string  |     ✓    | The token ID of this NFT.                                             |
| token\_uri             | string  |     ✗    | May be `null`. A URI to the NFT metadata (Usually an IPFS link).      |
| possible\_phishing     | boolean |     ✓    | Indicates if the NFT is flagged as phishing.                          |

### TokenProtocol

Standard object structure used in token information methods like [get\_token\_info](/komodo-defi-framework/api/v20/utils/get_token_info/#get-token-info).

| Parameter      | Type   | Required | Description                                                 |
| -------------- | ------ | :------: | ----------------------------------------------------------- |
| type           | string |     ✓    | Token type - e.g `ERC20` for tokens on the Ethereum network |
| protocol\_data | object |     ✓    | Protocol-specific data object                               |

### TokenProtocolData

Sub-object of [TokenProtocol](/komodo-defi-framework/api/common_structures/nfts/#token-protocol) containing platform-specific token information.

| Parameter         | Type   | Required | Description                                                                                                                                                                                                        |
| ----------------- | ------ | :------: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| platform          | string |     ✓    | The parent coin of the token's platform - e.g `MATIC` for PLG20 tokens                                                                                                                                             |
| contract\_address | string |     ✓    | **Must be mixed case** The identifying hex string for the token's contract. Can be found on sites like [EthScan](https://etherscan.io/), [BscScan](https://bscscan.com/) & [PolygonScan](https://polygonscan.com/) |

### WithdrawNftData

The `WithdrawNftData` object is used for withdrawals of NFTs on ERC721 and ERC1155 contracts. It includes the following items for a given coin or token:

| Parameter      | Type   | Required | Default | Description                                                                                        |
| -------------- | ------ | :------: | :-----: | -------------------------------------------------------------------------------------------------- |
| token\_address | string |     ✓    |   `-`   | The contract address of the NFT                                                                    |
| token\_id      | string |     ✓    |   `-`   | The ID of the NFT                                                                                  |
| to             | string |     ✓    |   `-`   | The recipient's address                                                                            |
| amount         | string |     ✗    |   `-`   | The amount to withdraw (for ERC1155 NFTs). For ERC721 NFTs, this is always `1` and can be omitted. |
