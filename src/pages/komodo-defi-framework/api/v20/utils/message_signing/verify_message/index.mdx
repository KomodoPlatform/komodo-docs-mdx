export const title = "Komodo DeFi Framework Method: Verify Message";
export const description = "The method in this document allows you to verify messages for all coins supported by Komodo DeFi Framework.";

# Verify Message

The `verify_Message` method allows one to confirm the authenticity of a signed message. By using the original message, the wallet's address, and the signature, the verification process can confirm that the message was created by the owner and that it has not been altered.

## Request Arguments

| Parameter | Type   | Description                                          |
| --------- | ------ | ---------------------------------------------------- |
| coin      | string | The coin to sign a message with                      |
| message   | string | The message input via the `sign_message` method sign |
| signature | string | The signature generated for the message              |
| address   | string | The address used to sign the message                 |

## Response Parameters

| Parameter | Type    | Description                                                 |
| --------- | ------- | ----------------------------------------------------------- |
| is\_valid | boolean | `true` is message signature is valid; `false` if it is not. |

## Command

<CodeGroup title="" tag="POST" label="verify_message" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "verify_message",
    "mmrpc": "2.0",
    "id": 0,
    "params": {
      "coin": "DOC",
      "message": "Between subtle shading and the absence of light lies the nuance illusion",
      "signature": "H43eTmJxBKEPiHkrCe/8NsRidkKCIkXDxLyp30Ez/RwoApGdg89Hlvj9mTMSPGp8om5297zvdL8EVx3IdIe2swY=",
      "address": "RUYJYSTuCKm9gouWzQN1LirHFEYThwzA2d"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Responses" collapsedText="Show Responses">
  ### Response (valid)

  ```json
  {
    "mmrpc": "2.0",
    "result": {
      "is_valid": true
    },
    "id": 0
  }
  ```

  ### Response (not valid)

  ```json
  {
    "mmrpc": "2.0",
    "result": {
      "is_valid": false
    },
    "id": 0
  }
  ```
</CollapsibleSection>

## âš  Error types

**PrefixNotFound:** sign\_message\_prefix is not set in coin config
**CoinIsNotFound:** Specified coin is not found
**InvalidRequest:** Message verification is not supported by the given coin type
**InternalError:** An internal error occured during the verification process
**SignatureDecodingError:** Given signature could not be decoded
**AddressDecodingError:** Given address could not be decoded

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  ### PrefixNotFound

  ```json
  {
      "mmrpc": "2.0",
      "error": "sign_message_prefix is not set in coin config",
      "error_path": "eth",
      "error_trace": "eth:2332]",
      "error_type": "PrefixNotFound",
      "id": null
  }
  ```

  ### InternalError

  ```json
  {
      "mmrpc": "2.0",
      "error": "Internal error: No such coin: as",
      "error_path": "lp_coins",
      "error_trace": "lp_coins:5122] lp_coins:5034]",
      "error_type": "InternalError",
      "error_data": "No such coin: SHEKEL",
      "id": null
  }
  ```

  ### SignatureDecodingError

  ```json
  {
      "mmrpc": "2.0",
      "error": "Signature decoding error: Invalid last symbol 100, offset 86.",
      "error_path": "utxo_common",
      "error_trace": "utxo_common:2803]",
      "error_type": "SignatureDecodingError",
      "error_data": "Invalid last symbol 100, offset 86.",
      "id": null
  }
  ```
</CollapsibleSection>
