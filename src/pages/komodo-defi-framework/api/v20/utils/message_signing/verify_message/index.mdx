export const title = "Komodo DeFi Framework Method: Verify Message";
export const description = "The method in this document allows you to verify messages for all coins supported by Komodo DeFi Framework.";

# Verify Message

## verify\_message {{label : 'verify_message', tag : 'API-v2'}}

The `verify_message` method allows you to confirm the authenticity of a signed message. By using the original message, the wallet's address, and the signature, the verification process can confirm that the message was created by the owner and that it has not been altered.

### Request Parameters

| Parameter | Type   | Required | Description                                      |
| --------- | ------ | :------: | ------------------------------------------------ |
| address   | string |     ‚úì    | The address used to sign the message.            |
| coin      | string |     ‚úì    | The coin to verify the message with.             |
| message   | string |     ‚úì    | The message input via the `sign_message` method. |
| signature | string |     ‚úì    | The signature generated for the message.         |

### Response Parameters

| Parameter | Type    | Description                                                     |
| --------- | ------- | --------------------------------------------------------------- |
| is\_valid | boolean | `true` if the message signature is valid; `false` if it is not. |

#### üìå Examples

<CodeGroup title="Verify Message" tag="POST" label="verify_message" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "verify_message",
    "mmrpc": "2.0",
    "id": 0,
    "params": {
      "coin": "DOC",
      "message": "Between subtle shading and the absence of light lies the nuance illusion",
      "signature": "H43eTmJxBKEPiHkrCe/8NsRidkKCIkXDxLyp30Ez/RwoApGdg89Hlvj9mTMSPGp8om5297zvdL8EVx3IdIe2swY=",
      "address": "RUYJYSTuCKm9gouWzQN1LirHFEYThwzA2d"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Verify Message Response" collapsedText="Show Verify Message Response">
  ### Response (valid)

  ```json
  {
      "mmrpc": "2.0",
      "result": {
          "is_valid": true
      },
      "id": 0
  }
  ```

  ### Response (not valid)

  ```json
  {
      "mmrpc": "2.0",
      "result": {
          "is_valid": false
      },
      "id": 0
  }
  ```
</CollapsibleSection>

### Error Types

| Parameter              | Type   | Description                                                  |
| ---------------------- | ------ | ------------------------------------------------------------ |
| PrefixNotFound         | string | `sign_message_prefix` is not set in coin config              |
| CoinIsNotFound         | string | Specified coin is not found                                  |
| InvalidRequest         | string | Message verification is not supported by the given coin type |
| InternalError          | string | An internal error occurred during the verification process   |
| SignatureDecodingError | string | Given signature could not be decoded                         |
| AddressDecodingError   | string | Given address could not be decoded                           |

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  #### ‚ö†Ô∏è Error Responses

  ##### PrefixNotFound

  ```json
  {
      "mmrpc": "2.0",
      "error": "sign_message_prefix is not set in coin config",
      "error_path": "eth",
      "error_trace": "eth:2332]",
      "error_type": "PrefixNotFound",
      "id": null
  }
  ```

  ##### InternalError

  ```json
  {
      "mmrpc": "2.0",
      "error": "Internal error: No such coin: as",
      "error_path": "lp_coins",
      "error_trace": "lp_coins:5122] lp_coins:5034]",
      "error_type": "InternalError",
      "error_data": "No such coin: SHEKEL",
      "id": null
  }
  ```

  ##### SignatureDecodingError

  ```json
  {
      "mmrpc": "2.0",
      "error": "Signature decoding error: Invalid last symbol 100, offset 86.",
      "error_path": "utxo_common",
      "error_trace": "utxo_common:2803]",
      "error_type": "SignatureDecodingError",
      "error_data": "Invalid last symbol 100, offset 86.",
      "id": null
  }
  ```
</CollapsibleSection>
