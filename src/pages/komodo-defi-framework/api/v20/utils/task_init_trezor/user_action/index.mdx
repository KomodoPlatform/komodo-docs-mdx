export const title = "task::init_trezor::user_action";
export const description = "Send user action (PIN or passphrase) to the Trezor device during initialisation in the Komodo DeFi Framework API.";

import trezorpin from "@/public/images/docs/api-images/trezor_pin.png";

# Komodo DeFi Framework Method: task::init\_trezor::user\_action

## task::init\_trezor::user\_action {{label : 'task::init_trezor::user_action', tag : 'API-v2'}}

When you see the pin grid on your device, or it asks for a passphrase word, use this method.

### Request Parameters

| Parameter                 | Type            | Required | Description                                                                                                                                                                                                                          |
| ------------------------- | --------------- | :------: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| task\_id                  | integer         |     âœ“    | The identifying number returned when initiating the initialisation process.                                                                                                                                                          |
| user\_action              | object          |     âœ“    | Object containing the params below                                                                                                                                                                                                   |
| user\_action.action\_type | string          |     âœ“    | Either `TrezorPin` or `TrezorPassphrase`, depending on which is requested by responses from related methods returning `"status": "UserActionRequired"`                                                                               |
| user\_action.pin          | string (number) |     âœ—    | When the Trezor device is displaying a grid of numbers for PIN entry, this param will contain your Trezor pin, as mapped through your keyboard numpad. See the image below for more information.                                     |
| user\_action.passphrase   | string          |     âœ—    | The [passphrase](https://trezor.io/learn/a/passphrases-and-hidden-wallets) functions like an extra word added to your recovery seed, and it used to access hidden wallets. To access the default wallet, input an empty string here. |

<OptimizedImage src={trezorpin} classNaming="w-full" alt="Trezor Pin" />

### Response Parameters

| Parameter | Type   | Required | Description                 |
| --------- | ------ | :------: | --------------------------- |
| result    | string |     âœ“    | The outcome of the request. |

<Note>
  Even an incorrect PIN will return `success`. This doesn't mean the PIN was accepted, just that it was communicated without errors. If the PIN was incorrect, you will see an error like below in the next response for a method that requires authentication.
</Note>

```json
{
  "mmrpc": "2.0",
  "result": {
    "status": "Error",
    "details": {
      "error": "Error on platform coin KMD creation: Hardware Wallet context is not initialized",
      "error_path": "lib.init_utxo_standard_activation.utxo_coin_builder",
      "error_trace": "lib:103] init_utxo_standard_activation:79] utxo_coin_builder:317]",
      "error_type": "CoinCreationError",
      "error_data": {
        "ticker": "KMD",
        "error": "Hardware Wallet context is not initialized"
      }
    }
  },
  "id": null
}
```

#### ðŸ“Œ Examples

#### Command (for TrezorPin)

<CodeGroup title="task::init_trezor::user_action" tag="POST" label="task::init_trezor::user_action" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "mmrpc": "2.0",
    "method": "task::init_trezor::user_action",
    "params": {
      "task_id": 0,
      "user_action": {
        "action_type": "TrezorPin",
        "pin": "862743"
      }
    }
  }
  ```
</CodeGroup>

#### Command (for TrezorPassphrase)

<CodeGroup title="task::init_trezor::user_action" tag="POST" label="task::init_trezor::user_action" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "mmrpc": "2.0",
    "method": "task::init_trezor::user_action",
    "params": {
      "task_id": 0,
      "user_action": {
        "action_type": "TrezorPassphrase",
        "passphrase": "breakfast"
      }
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response (success)

  ```json
  {
    "mmrpc": "2.0",
    "result": "success",
    "id": null
  }
  ```
</CollapsibleSection>
