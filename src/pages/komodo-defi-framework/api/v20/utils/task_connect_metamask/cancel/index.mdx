export const title = "Komodo DeFi Framework Method: Cancel MetaMask Connection Task";
export const description = "Cancel a running MetaMask connection task in the Komodo DeFi Framework API.";

# Cancel MetaMask Connection Task

## task::connect\_metamask::cancel {{label : 'task::connect_metamask::cancel', tag : 'API-v2'}}

Use `task::connect_metamask::cancel` to abort the MetaMask initialisation task.

### Request Parameters

| Parameter | Type    | Required | Description                                                        |
| --------- | ------- | :------: | ------------------------------------------------------------------ |
| task\_id  | integer |     âœ“    | The identifying number returned when the task was first initiated. |

### Response Parameters

| Parameter    | Type   | Description                                                                            |
| ------------ | ------ | -------------------------------------------------------------------------------------- |
| result       | string | Returns `success` on success, otherwise the standard error fields below are populated. |
| error        | string | Description of the error.                                                              |
| error\_path  | string | Used for debugging. A reference to the function in code base which returned the error. |
| error\_trace | string | Used for debugging. A trace of lines of code which led to the returned error.          |
| error\_type  | string | An enumerated error identifier to indicate the category of error.                      |
| error\_data  | string | Additional context for the error type.                                                 |

#### ðŸ“Œ Examples

<CodeGroup title="Cancel MetaMask Connection Task" tag="POST" label="task::connect_metamask::cancel" mm2MethodDecorate="true">
  ```json
  {
    "mmrpc": "2.0",
    "method": "task::connect_metamask::cancel",
    "params": {
      "task_id": 42
    },
    "id": 1,
    "userpass": "RPC_UserP@SSW0RD"
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response (success)

  ```json
  {
    "mmrpc": "2.0",
    "result": "success",
    "id": 1
  }
  ```

  #### Response (task already finished)

  ```json
  {
    "mmrpc": "2.0",
    "error": "Task is finished already",
    "error_path": "init_metamask.manager",
    "error_trace": "init_metamask:215] manager:104]",
    "error_type": "TaskFinished",
    "error_data": 42,
    "id": 1
  }
  ```
</CollapsibleSection>
