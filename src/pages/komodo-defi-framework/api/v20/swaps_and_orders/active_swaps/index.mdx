export const title = "Komodo DeFi Framework Method: Active Swaps";
export const description = "The active_swaps method returns all the swaps that are currently running on the Komodo DeFi Framework API node.";

# Active Swaps

## active\_swaps {{label : 'active_swaps', tag : 'API-v2'}}

The `active_swaps` method returns all the swaps that are currently running on the Komodo DeFi Framework API node.

### Request Parameters

| Parameter       | Type | Required | Default | Description                                   |
| --------------- | ---- | :------: | :-----: | --------------------------------------------- |
| include\_status | bool |     âœ—    | `false` | Whether to include swap statuses in response. |

### Response Parameters

| Parameter | Type             | Description                                                                                                                                                                                            |
| --------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| uuids     | array of strings | A list of currently active swap UUIDs.                                                                                                                                                                 |
| statuses  | object (map)     | Only visible if `include_status` request parameter is `true`. A map of standard [SwapStatus](/komodo-defi-framework/api/common_structures/swaps/#swap-status) objects, delineated by the related UUID. |

#### ðŸ“Œ Examples

#### Command (without include\_status)

<CodeGroup title="Active Swaps (without include_status)" tag="POST" label="active_swaps" mm2MethodDecorate="true">
  ```json
  {
    "mmrpc": "2.0",
    "userpass": "RPC_UserP@SSW0RD",
    "method": "active_swaps",
    "params": {
      "include_status": false
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response (uuids only)

  ```json
  {
    "result": {
      "uuids": [
        "015c13bc-da79-43e1-a6d4-4ac8b3099b34",
        "7592a07a-2805-4050-8ab8-984480e812f0",
        "82cbad96-ea9f-40fb-9225-07496323e35d",
        "177f7fa5-c9f3-4673-a2fa-28451a123e61"
      ],
      "statuses": {}
    },
    "id": null
  }
  ```
</CollapsibleSection>

#### Command (include\_status = true)

<CodeGroup title="Active Swaps" tag="POST" label="active_swaps" mm2MethodDecorate="true">
  ```json
  {
    "mmrpc": "2.0",
    "userpass": "RPC_UserP@SSW0RD",
    "method": "active_swaps",
    "params": {
      "include_status": true
    },
    "id": 42
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response (statuses included)

  ```json
  {
    "mmrpc": "2.0",
    "result": {
        "uuids": [
            "7b60a494-f159-419c-8f41-02e10f897513"
        ],
        "statuses": {
            "7b60a494-f159-419c-8f41-02e10f897513": {
                "swap_type": "TakerV1",
                "swap_data": {
                    "uuid": "7b60a494-f159-419c-8f41-02e10f897513",
                    "my_order_uuid": "7b60a494-f159-419c-8f41-02e10f897513",
                    "events": [
                        {
                            "timestamp": 1730633787643,
                            "event": {
                                "type": "Started",
                                "data": {
                                    "taker_coin": "MARTY",
                                    "maker_coin": "DOC",
                                    "maker": "15d9c51c657ab1be4ae9d3ab6e76a619d3bccfe830d5363fa168424c0d044732",
                                    "my_persistent_pub": "034cbf74541c1d3436bc7638a2738f64df4fee22d4443cdf11d54cea7d7f55f256",
                                    "lock_duration": 7800,
                                    "maker_amount": "2.4",
                                    "taker_amount": "2.4",
                                    "maker_payment_confirmations": 1,
                                    "maker_payment_requires_nota": false,
                                    "taker_payment_confirmations": 1,
                                    "taker_payment_requires_nota": false,
                                    "taker_payment_lock": 1730641586,
                                    "uuid": "7b60a494-f159-419c-8f41-02e10f897513",
                                    "started_at": 1730633786,
                                    "maker_payment_wait": 1730636906,
                                    "maker_coin_start_block": 803888,
                                    "taker_coin_start_block": 818500,
                                    "fee_to_send_taker_fee": {
                                        "coin": "MARTY",
                                        "amount": "0.00001",
                                        "paid_from_trading_vol": false
                                    },
                                    "taker_payment_trade_fee": {
                                        "coin": "MARTY",
                                        "amount": "0.00001",
                                        "paid_from_trading_vol": false
                                    },
                                    "maker_payment_spend_trade_fee": {
                                        "coin": "DOC",
                                        "amount": "0.00001",
                                        "paid_from_trading_vol": true
                                    },
                                    "maker_coin_htlc_pubkey": "034cbf74541c1d3436bc7638a2738f64df4fee22d4443cdf11d54cea7d7f55f256",
                                    "taker_coin_htlc_pubkey": "034cbf74541c1d3436bc7638a2738f64df4fee22d4443cdf11d54cea7d7f55f256",
                                    "p2p_privkey": null
                                }
                            }
                        },
                        {
                            "timestamp": 1730633801655,
                            "event": {
                                "type": "Negotiated",
                                "data": {
                                    "maker_payment_locktime": 1730649385,
                                    "maker_pubkey": "000000000000000000000000000000000000000000000000000000000000000000",
                                    "secret_hash": "b476e27c0c6680ac67765163b1b5736dd7649512",
                                    "maker_coin_swap_contract_addr": null,
                                    "taker_coin_swap_contract_addr": null,
                                    "maker_coin_htlc_pubkey": "0315d9c51c657ab1be4ae9d3ab6e76a619d3bccfe830d5363fa168424c0d044732",
                                    "taker_coin_htlc_pubkey": "0315d9c51c657ab1be4ae9d3ab6e76a619d3bccfe830d5363fa168424c0d044732"
                                }
                            }
                        },
                        {
                            "timestamp": 1730633802415,
                            "event": {
                                "type": "TakerFeeSent",
                                "data": {
                                    "tx_hex": "0400008085202f8901a12c9c4c1c0e3ebd6329a7a0cd3c0a34a2355e5bea93b50faaa46d8889eb4ee0000000006a47304402200774c8e6fbb94df8ab73d9dbbd858326b361cc132d14c90e4ebf7d2a6bc5f9b402204fa716b684c20a3c56b28a42e63bfa3edcd3a76e261bee674f00ec0ccff674160121034cbf74541c1d3436bc7638a2738f64df4fee22d4443cdf11d54cea7d7f55f256ffffffff0290b60400000000001976a914ca1e04745e8ca0c60d8c5881531d51bec470743f88ac882e4317120000001976a914d64ad24e655ba7221ea51c7931aad5b98da77f3c88ac4a602767000000000000000000000000000000",
                                    "tx_hash": "3febb9949f3e751c568b774719a9fbf851bc9b4c6083da8c0927e4d1c078c21c"
                                }
                            }
                        },
                        {
                            "timestamp": 1730633804416,
                            "event": {
                                "type": "TakerPaymentInstructionsReceived",
                                "data": null
                            }
                        },
                        {
                            "timestamp": 1730633804421,
                            "event": {
                                "type": "MakerPaymentReceived",
                                "data": {
                                    "tx_hex": "0400008085202f89045c20450775f07a4c448fbfebe47fdfa058c9a25254d36874765b44e1b3aaa193020000006a473044022079e6fbe2a24beb093858c644f765403d7a23714c17bee99c0b88fdd4b1d2bfbf02206f104b94437e4ce39d6854b48c1abccd218ee42436c8b5ac29e9136d538aa89501210315d9c51c657ab1be4ae9d3ab6e76a619d3bccfe830d5363fa168424c0d044732ffffffff620a3f975950554a03ecce8a2918958e8f1a17db70e7efe420618f3622844196000000006a47304402205721b4ce8c079604ce6f5779289fdc66912e064f12c40cc174daab80534a623f0220575fcc814edbec126834ce408ecbcf7ec2d7a8df2e323273266c8b47518ba9e701210315d9c51c657ab1be4ae9d3ab6e76a619d3bccfe830d5363fa168424c0d044732ffffffff9ac8dbb806e5722c00c60623c7313c41892649531a1c134f5d700b8f85157559000000006a473044022074a909367ba10cf375fb84414bad2ee41ffb35940132d94a9033736185df4b58022032b6dd0aeb5e102584e63d294d66367e19eaa599ed438d0209a039190bca10f401210315d9c51c657ab1be4ae9d3ab6e76a619d3bccfe830d5363fa168424c0d044732ffffffff46c38d985571abe367e07c7415b278bebdaa7b6b7283a7d069dfde6fb820cb8d020000006a47304402203397ffb5b16d0c829aac977ae92d8bc76cd3e9afc17bef3da436272bb672a0bd02207b3c026e25fd70048f12c166851a1d53ff2931e5073028588dde9715d63a527501210315d9c51c657ab1be4ae9d3ab6e76a619d3bccfe830d5363fa168424c0d044732ffffffff03001c4e0e0000000017a914f9bb3725cdd5d07b6f2b5387b5cf4471a4ad0463870000000000000000166a14b476e27c0c6680ac67765163b1b5736dd7649512dee80841410500001976a9141462c3dd3f936d595c9af55978003b27c250441f88ac4b602767000000000000000000000000000000",
                                    "tx_hash": "ebeba78542427dcf9bc720063582b99153afe6efcde49d16aacf67a8e597a41e"
                                }
                            }
                        },
                        {
                            "timestamp": 1730633804421,
                            "event": {
                                "type": "MakerPaymentWaitConfirmStarted"
                            }
                        },
                        {
                            "timestamp": 1730633836140,
                            "event": {
                                "type": "MakerPaymentValidatedAndConfirmed"
                            }
                        },
                        {
                            "timestamp": 1730633839137,
                            "event": {
                                "type": "TakerPaymentSent",
                                "data": {
                                    "tx_hex": "0400008085202f89011cc278c0d1e427098cda83604c9bbc51f8fba91947778b561c753e9f94b9eb3f010000006a473044022024b2c5bc5b23e8e774f6a8001de8f94a4e6888456722fede2be6b061d6d93c9302203805a7d1c9361fee2066e26f6196476f73f34246f60308cfafa3783a94a3cab30121034cbf74541c1d3436bc7638a2738f64df4fee22d4443cdf11d54cea7d7f55f256ffffffff03001c4e0e0000000017a914fbb04e8d9b7b4098c887aed16124291646462525870000000000000000166a14b476e27c0c6680ac67765163b1b5736dd7649512a00ef508120000001976a914d64ad24e655ba7221ea51c7931aad5b98da77f3c88ac6c602767000000000000000000000000000000",
                                    "tx_hash": "08e94af501630e46f4b2c5d64e6851c6bc9a3828506fef9f6668938d36c7b2da"
                                }
                            }
                        },
                        {
                            "timestamp": 1730633839140,
                            "event": {
                                "type": "TakerPaymentWaitConfirmStarted"
                            }
                        },
                        {
                            "timestamp": 1730633842140,
                            "event": {
                                "type": "TakerPaymentValidatedAndConfirmed"
                            }
                        },
                        {
                            "timestamp": 1730633845140,
                            "event": {
                                "type": "MakerPaymentSpent",
                                "data": {
                                    "tx_hex": "0400008085202f89011cc278c0d1e427098cda83604c9bbc51f8fba91947778b561c753e9f94b9eb3f010000006a473044022024b2c5bc5b23e8e774f6a8001de8f94a4e6888456722fede2be6b061d6d93c9302203805a7d1c9361fee2066e26f6196476f73f34246f60308cfafa3783a94a3cab30121034cbf74541c1d3436bc7638a2738f64df4fee22d4443cdf11d54cea7d7f55f256ffffffff03001c4e0e0000000017a914fbb04e8d9b7b4098c887aed16124291646462525870000000000000000166a14b476e27c0c6680ac67765163b1b5736dd7649512a00ef508120000001976a914d64ad24e655ba7221ea51c7931aad5b98da77f3c88ac6c602767000000000000000000000000000000",
                                    "tx_hash": "08e94af501630e46f4b2c5d64e6851c6bc9a3828506fef9f6668938d36c7b2da"
                                }
                            }
                        },
                        {
                            "timestamp": 1730633848140,
                            "event": {
                                "type": "TakerPaymentSpent",
                                "data": {
                                    "tx_hex": "0400008085202f89011cc278c0d1e427098cda83604c9bbc51f8fba91947778b561c753e9f94b9eb3f010000006a473044022024b2c5bc5b23e8e774f6a8001de8f94a4e6888456722fede2be6b061d6d93c9302203805a7d1c9361fee2066e26f6196476f73f34246f60308cfafa3783a94a3cab30121034cbf74541c1d3436bc7638a2738f64df4fee22d4443cdf11d54cea7d7f55f256ffffffff03001c4e0e0000000017a914fbb04e8d9b7b4098c887aed16124291646462525870000000000000000166a14b476e27c0c6680ac67765163b1b5736dd7649512a00ef508120000001976a914d64ad24e655ba7221ea51c7931aad5b98da77f3c88ac6c602767000000000000000000000000000000",
                                    "tx_hash": "08e94af501630e46f4b2c5d64e6851c6bc9a3828506fef9f6668938d36c7b2da"
                                }
                            }
                        },
                        {
                            "timestamp": 1730633851140,
                            "event": {
                                "type": "SwapFinished"
                            }
                        }
                    ],
                    "maker_amount": "2.4",
                    "maker_coin": "DOC",
                    "maker_coin_usd_price": null,
                    "taker_amount": "2.4",
                    "taker_coin": "MARTY",
                    "taker_coin_usd_price": null,
                    "gui": "mm2_777",
                    "mm_version": "2.2.0-beta_caf803b",
                    "success_events": [
                        "Started",
                        "Negotiated",
                        "TakerFeeSent",
                        "TakerPaymentInstructionsReceived",
                        "MakerPaymentReceived",
                        "MakerPaymentWaitConfirmStarted",
                        "MakerPaymentValidatedAndConfirmed",
                        "TakerPaymentSent",
                        "WatcherMessageSent",
                        "TakerPaymentSpent",
                        "MakerPaymentSpent",
                        "MakerPaymentSpentByWatcher",
                        "MakerPaymentSpendConfirmed",
                        "Finished"
                    ],
                    "error_events": [
                        "StartFailed",
                        "NegotiateFailed",
                        "TakerFeeSendFailed",
                        "MakerPaymentValidateFailed",
                        "MakerPaymentWaitConfirmFailed",
                        "TakerPaymentTransactionFailed",
                        "TakerPaymentWaitConfirmFailed",
                        "TakerPaymentDataSendFailed",
                        "TakerPaymentWaitForSpendFailed",
                        "MakerPaymentSpendFailed",
                        "MakerPaymentSpendConfirmFailed",
                        "TakerPaymentWaitRefundStarted",
                        "TakerPaymentRefundStarted",
                        "TakerPaymentRefunded",
                        "TakerPaymentRefundedByWatcher",
                        "TakerPaymentRefundFailed",
                        "TakerPaymentRefundFinished"
                    ]
                }
            }
        }
    },
    "id": 42
  }
  ```
</CollapsibleSection>
