export const title = "Komodo DeFi Framework Method: Enable Network Streaming";
export const description = "Using this method, you can enable network events streaming.";

# Enable Network Streaming

## stream::network::enable {{label : 'stream::network::enable', tag : 'API-v2'}}

Using this method, you can enable network events streaming to a specific client.

### Request Parameters

| Parameter  | Type    | Required | Default | Description                                                                                                                                                                     |
| ---------- | ------- | :------: | :-----: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| client\_id | integer |     âœ—    |   `0`   | In the case of a single client, this defaults to `0`. This ID can be used to access data via [http://localhost:7783/event-stream?id=1](http://localhost:7783/event-stream?id=1) |
| config     | object  |     âœ—    |    -    | A standard [StreamingConfig](/komodo-defi-framework/api/common_structures/#streaming-config) object.                                                                            |

<Note>
  The client defines its own id when opening a connection to the stream, and each client\_id can only be viewed by a single client (i.e. the `?id=` url param won't work in more than one browser tab).
</Note>

### Response Parameters

| Parameter    | Type   | Description                                                                                                                                                             |
| ------------ | ------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| streamer\_id | string | An identifier for the data stream. This can be used later to disable streaming for the event with [stream::disable](/komodo-defi-framework/api/v20/streaming/disable/). |

#### ðŸ“Œ Examples

<CodeGroup title="network_enable" tag="POST" label="network_enable" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "stream::network::enable",
    "mmrpc": "2.0",
    "params": {
      "config": {
        "stream_interval_seconds": 60
      },
      "client_id": 1
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
      "mmrpc": "2.0",
      "result": {
          "streamer_id": "NETWORK"
      },
      "id": null
  }
  ```
</CollapsibleSection>

Here is an example of the stream data you should be able to see in [http://localhost:7783/event-stream?id=1](http://localhost:7783/event-stream?id=1) at each stream interval:

`data: {"_type":"NETWORK","message":{"directly_connected_peers":{"12D3KooWBhGrTVfaK9v12eA3Et84Y8Bc6ixfZVVGShsad2GBWzm3":["/ip4/162.55.5.83/tcp/42845"],"12D3KooWMjrYgoAVk5NKyqxPyYJUJyCY9nnZhFt7xwWjAe568PSN":["/ip4/65.108.252.86/tcp/42845/p2p/12D3KooWMjrYgoAVk5NKyqxPyYJUJyCY9nnZhFt7xwWjAe568PSN"]},"gossip_mesh":{"swap/4bfe3af7-dd62-4dbe-9c16-68697c4aa24d":[],"hcheck/12D3KooWEurexTFLmsiw2bQoKdrWuNZSQmjvTinoCMNmfRwfZUmW":[],"orbk/DOC:MARTY":[]},"gossip_peer_topics":{"12D3KooWMjrYgoAVk5NKyqxPyYJUJyCY9nnZhFt7xwWjAe568PSN":[],"12D3KooWBhGrTVfaK9v12eA3Et84Y8Bc6ixfZVVGShsad2GBWzm3":[]},"gossip_topic_peers":{},"relay_mesh":["12D3KooWMjrYgoAVk5NKyqxPyYJUJyCY9nnZhFt7xwWjAe568PSN","12D3KooWBhGrTVfaK9v12eA3Et84Y8Bc6ixfZVVGShsad2GBWzm3"]}}`

### Error Types

| Parameter              | Type   | Description                                                   |
| ---------------------- | ------ | ------------------------------------------------------------- |
| UnknownClient          | string | No client has an open connection using this client\_id        |
| ClientAlreadyListening | string | The requested events are already being sent to the client\_id |

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  ##### Error Response (Unknown Client)

  ```json
  {
      "mmrpc": "2.0",
      "error": "UnknownClient",
      "error_path": "network",
      "error_trace": "network:35]",
      "error_type": "EnableError",
      "error_data": "UnknownClient",
      "id": null
  }
  ```

  ##### Error (Client Already Listening)

  ```json
  {
      "mmrpc": "2.0",
      "error": "ClientAlreadyListening",
      "error_path": "network",
      "error_trace": "network:35]",
      "error_type": "EnableError",
      "error_data": "ClientAlreadyListening",
      "id": null
  }
  ```
</CollapsibleSection>
