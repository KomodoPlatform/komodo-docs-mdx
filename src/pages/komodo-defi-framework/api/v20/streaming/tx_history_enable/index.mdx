export const title = "Komodo DeFi Framework Method: Transaction History Events Streaming";
export const description = "Using this method, you can enable transaction history events streaming for a specific coin.";

# tx\_history\_enable

Using this method, you can enable transaction history events streaming for a specific coin.
This method is only compatible with the following coin types: `UTXO`, `BCH/SLP`, `TENDERMINT`, `QTUM`, `ZHTLC`.

<Note>
  For this stream to return data, the coin being queried **must** include the `"tx_history": true` parameter in its activation command.
</Note>

### Request Parameters

| Parameter  | Type    | Description                                                                                                                            |
| ---------- | ------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| coin       | string  | Ticker of the coin to activate streaming for. The coin must be activated first.                                                        |
| client\_id | integer | Optional. In the case of a single client, this defaults to `0`. This ID can be used to access data via http://localhost:7783/event-stream?id=1 |

<Note>
  The client defines its own id when opening a connection to the stream, and each client\_id can only be viewed by a single client (i.e. the `?id=` url param wont work in more than one browser tab).
  The selected coin must be enabled prior to enabling streaming.
</Note>

### Response Parameters

| Parameter    | Type   | Description                                                                                                                                                             |
| ------------ | ------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| streamer\_id | string | An identifier for the data stream. This can be used later to disable streaming for the event with [stream::disable](/komodo-defi-framework/api/v20/streaming/disable/). |

### ðŸ“Œ Examples

#### Request

<CodeGroup title="" tag="POST" label="balance_enable" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "stream::tx_history::enable",
    "mmrpc": "2.0",
    "params": {
      "client_id": 1,
      "coin": "DOC"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  #### Response

  ```json
  {
    "mmrpc": "2.0",
    "result": {
        "streamer_id": "TX_HISTORY:DOC"
    },
    "id": null
  }
  ```
</CollapsibleSection>

<CollapsibleSection expandedText="Hide Errors" collapsedText="Show Errors">
  #### CoinNotFound

  You need to activate the coin first.

  ```json
  {
    "mmrpc": "2.0",
    "error": "CoinNotFound",
    "error_path": "tx_history",
    "error_trace": "tx_history:42]",
    "error_type": "CoinNotFound",
    "id": null
  }
  ```

  #### UnknownClient

  No client has an open connection using this `client_id`.

  ```json
  {
    "mmrpc": "2.0",
    "error": "UnknownClient",
    "error_path": "tx_history",
    "error_trace": "tx_history:75]",
    "error_type": "EnableError",
    "error_data": "UnknownClient",
    "id": null
  }
  ```

  #### ClientAlreadyListening

  The requested events are already being sent to the `client_id`.

  ```json
  {
      "mmrpc": "2.0",
      "error": "ClientAlreadyListening",
      "error_path": "tx_history",
      "error_trace": "tx_history:75]",
      "error_type": "EnableError",
      "error_data": "ClientAlreadyListening",
      "id": null
  }
  ```

  #### CoinNotSupported Error

  The coin type is not supported for this stream.

  ```json
  {
    "mmrpc": "2.0",
    "error": "CoinNotSupported",
    "error_path": "tx_history",
    "error_trace": "tx_history:70]",
    "error_type": "CoinNotSupported",
    "id": null
  }
  ```
</CollapsibleSection>
