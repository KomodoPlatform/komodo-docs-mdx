export const title = "Komodo DeFi Framework Method: Task Managed Wallet Methods Overview";
export const description = "Overview of task managed wallet methods in the Komodo DeFi Framework API.";

# Task Managed Wallet Methods Overview

## task::wallet::task\_managed {{label : 'task::wallet::task_managed', tag : 'overview'}}

Task managed wallet methods in the Komodo DeFi Framework provide advanced features for HD wallets, hardware wallet integration, and secure transaction management. These methods are designed to support asynchronous operations and hardware wallet flows, making them suitable for modern wallet applications.

### Available Task Managed Wallet Methods

*   [Account Balance Tasks](/komodo-defi-framework/api/v20/wallet/task_managed/account_balance/): Track balances across multiple addresses under a specified account index.
*   [Create New Account Tasks](/komodo-defi-framework/api/v20/wallet/task_managed/create_new_account/): Create and manage new HD accounts.
*   [Get New Address Tasks](/komodo-defi-framework/api/v20/wallet/task_managed/get_new_address/): Generate new HD wallet addresses.
*   [Scan For New Addresses Tasks](/komodo-defi-framework/api/v20/wallet/task_managed/scan_for_new_addresses/): Scan for new addresses in HD wallets.
*   [Withdraw Tasks](/komodo-defi-framework/api/v20/wallet/task_managed/withdraw/): Prepare and manage withdrawals from your wallet.

<Note>
  For coin activation tasks, see the [Task Managed Coin Activation](/komodo-defi-framework/api/v20/coin_activation/task_managed/) section.
</Note>

## HD Wallets Overview

[Hierarchical Deterministic (HD) Wallets](https://atomicdex.io/en/blog/hd-wallet/) are different from other wallets, as they use a key pair management system that allows generating multiple new addresses from a single seed phrase or private key.

`Hierarchical` refers to the structure of HD wallets, which resembles a tree, where parent keys can produce children keys, which can produce grandchildren keys, and so on, all from the same root seed.
`Deterministic` means that the addresses generated in this tree will always be the same for the same root seed phrase.

HD wallets offer several advantages over traditional wallets:

*   Convenience: HD wallets allow users to generate multiple public and private keys from a single seed phrase, making it easier to manage multiple addresses in one place.
*   Privacy: HD wallets can generate new addresses for each transaction, making it more difficult for malicious parties to track a user's transaction history.
*   Access Control: A user who controls the root seed can create new addresses and key pairs, which can be shared with a third party, providing limited or regulated access to funds held under specific pairs.

<Note type="info">
  To use HD wallet functionality with the Komodo DeFi Framework API, you must include `"enable_hd": true` in your [MM2.json file](/komodo-defi-framework/setup/configure-mm2-json/).
  Hardware wallets like [Trezor](https://trezor.io/) are always in HD mode, and this parameter **must** be set to `true`.
</Note>

In some cases, the methods used to interact with HD wallets are the same as those used with legacy wallets. However, there are some differences, which are detailed in the links below.

## Initialization and Authentication (Hardware Wallets Only)

*   Initialize connection with your Trezor with [task::init\_trezor::init](/komodo-defi-framework/api/v20/utils/task_init_trezor/init/)
*   Check the status of the connection with [task::init\_trezor::status](/komodo-defi-framework/api/v20/utils/task_init_trezor/status/)
*   Cancel authentication process with [task::init\_trezor::cancel](/komodo-defi-framework/api/v20/utils/task_init_trezor/cancel/)
*   Authenticate using PIN or phrase with [task::init\_trezor::user\_action](/komodo-defi-framework/api/v20/utils/task_init_trezor/user_action/)

<Note>
  These methods (and others with a `task::` prefix) will be linked to a numeric `task_id` value, which is used to query the status or outcome of the task.
</Note>

## Coin Activation in HD Mode

As HD mode activation performs address scanning to return addresses and balances for enabled accounts, we use `task` methods because fetching this data can take some time.

*   Use [task::enable\_bch::init](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_bch/init/#task-enable-bch-init) for BCH/SLP coins.
*   Check the activation status with [task::enable\_bch::status](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_bch/status/#task-enable-bch-status)
*   Authenticate the activation with [task::enable\_bch::user\_action](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_bch/user_action/#task-enable-bch-user-action) (hardware wallet only)
*   Cancel activation with [task::enable\_bch::cancel](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_bch/cancel/#task-enable-bch-cancel)
*   Use [task::enable\_eth::init](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_eth/#task-enable-eth-init) for EVM type coins like ETH, AVAX, BNB.
*   Check the activation status with [task::enable\_eth::status](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_eth/#task-enable-eth-status)
*   Authenticate the activation with [task::enable\_eth::user\_action](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_eth/#task-enable-eth-user-action) (hardware wallet only)
*   Cancel activation with [task::enable\_eth::cancel](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_eth/#task-enable-eth-cancel)
*   Use [task::enable\_qtum::init](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_qtum/init/#task-enable-qtum-init) for QTUM Ecosystem coins.
*   Check the activation status with [task::enable\_qtum::status](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_qtum/status/#task-enable-qtum-status)
*   Authenticate the activation with [task::enable\_qtum::user\_action](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_qtum/user_action/#task-enable-qtum-user-action) (hardware wallet only)
*   Cancel activation with [task::enable\_qtum::cancel](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_qtum/cancel/#task-enable-qtum-cancel)
*   Use [task::enable\_tendermint::init](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_tendermint/init/#task-enable-tendermint-init) for TENDERMINT coins like ATOM, OSMO, and IRIS.
*   Check the activation status with [task::enable\_tendermint::status](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_tendermint/status/#task-enable-tendermint-status)
*   Authenticate the activation with [task::enable\_tendermint::user\_action](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_tendermint/user_action/#task-enable-tendermint-user-action) (hardware wallet only)
*   Cancel activation with [task::enable\_tendermint::cancel](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_tendermint/cancel/#task-enable-tendermint-cancel)
*   Use [task::enable\_utxo::init](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_utxo/init/#task-enable-utxo-init) for UTXO coins like KMD, BTC, and DOGE.
*   Check the activation status with [task::enable\_utxo::status](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_utxo/status/#task-enable-utxo-status)
*   Authenticate the activation with [task::enable\_utxo::user\_action](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_utxo/user_action/#task-enable-utxo-user-action) (hardware wallet only)
*   Cancel activation with [task::enable\_utxo::cancel](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_utxo/cancel/#task-enable-utxo-cancel)
*   Use [task::enable\_z\_coin::init](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_z_coin/init/#task-enable-z-coin-init) for ZHTLC coins PIRATE and ZOMBIE.
*   Check the activation status with [task::enable\_z\_coin::status](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_z_coin/status/#task-enable-z-coin-status)
*   Authenticate the activation with [task::enable\_z\_coin::user\_action](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_z_coin/user_action/#task-enable-z-coin-user-action) (hardware wallet only)
*   Cancel activation with [task::enable\_z\_coin::cancel](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_z_coin/cancel/#task-enable-z-coin-cancel)

<Note>
  When using the activation methods with a Trezor, `"priv_key_policy": "Trezor"` needs to be included in the request.
</Note>

## Withdrawing Your Funds

*   Prepare a transaction with [task::withdraw::init](/komodo-defi-framework/api/v20/wallet/task_managed/withdraw/#task-withdraw-init)
*   Check the status of the transaction preparation with [task::withdraw::status](/komodo-defi-framework/api/v20/wallet/task_managed/withdraw/#task-withdraw-status)
*   Cancel the transaction preparation with [task::withdraw::cancel](/komodo-defi-framework/api/v20/wallet/task_managed/withdraw/#task-withdraw-cancel)

<Note>
  After preparing the transaction, it needs to be broadcast to the network with [send\_raw\_transaction](/komodo-defi-framework/api/legacy/send_raw_transaction/#send-raw-transaction)
</Note>

## Viewing HD Wallet Balances and Addresses

*   Initialize the balance request with [task::account\_balance::init](/komodo-defi-framework/api/v20/wallet/task_managed/account_balance/init/)
*   Check the status of the balance request with [task::account\_balance::status](/komodo-defi-framework/api/v20/wallet/task_managed/account_balance/status/)
*   Create new HD wallet addresses with [task::get\_new\_address::init](/komodo-defi-framework/api/v20/wallet/task_managed/get_new_address/init/) to generate new addresses

## Viewing HD Wallet Transaction History

*   Transaction history using an `account_id` [my\_tx\_history](/komodo-defi-framework/api/v20/wallet/tx/my_tx_history/)
*   Transaction history using an `address_id` [my\_tx\_history](/komodo-defi-framework/api/v20/wallet/tx/my_tx_history/)
