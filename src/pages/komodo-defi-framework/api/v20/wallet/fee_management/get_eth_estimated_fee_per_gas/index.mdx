export const title = "Komodo DeFi Framework Method: Get ETH Estimated Fee per Gas";
export const description =
  "The get_eth_estimated_fee_per_gas method allows you to get the gas priority fee estimates for an active coin of your choice.";

# Get ETH Estimated Fee per Gas

## get\_eth\_estimated\_fee\_per\_gas {{label : 'get_eth_estimated_fee_per_gas', tag : 'API-v2'}}

The `get_eth_estimated_fee_per_gas` method allows you to get the estimated gas priority fee for an active coin of your choice.

### Request Parameters

| Parameter       | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                      |
| --------------- | ------ | :------: | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| coin            | string |     ‚úì    | Ticker of the coin/asset for which you want to start the gas fee estimator.                                                                                                                                                                                                                                                                                                                      |
| estimator\_type | string |     ‚úì    | A standard [EstimatorTypeEnum](/komodo-defi-framework/api/common_structures/enums/#estimator-type-enum) enum. If set to `Provider`, users must set the `gas_api` setting in their [MM2.json file](/komodo-defi-framework/setup/configure-mm2-json/) to source recommended fee values from third-party providers [Infura](https://www.infura.io/) or [Blocknative](https://www.blocknative.com/). |

### Response Parameters

| Parameter                           | Type   | Description                                                   |
| ----------------------------------- | ------ | ------------------------------------------------------------- |
| base\_fee                           | string | The base fee for the network                                  |
| low\.max\_priority\_fee\_per\_gas   | string | Maximum priority fee per gas for low priority transactions    |
| low\.max\_fee\_per\_gas             | string | Maximum fee per gas for low priority transactions             |
| low\.min\_wait\_time                | string | Minimum wait time for low priority transactions               |
| low\.max\_wait\_time                | string | Maximum wait time for low priority transactions               |
| medium.max\_priority\_fee\_per\_gas | string | Maximum priority fee per gas for medium priority transactions |
| medium.max\_fee\_per\_gas           | string | Maximum fee per gas for medium priority transactions          |
| medium.min\_wait\_time              | string | Minimum wait time for medium priority transactions            |
| medium.max\_wait\_time              | string | Maximum wait time for medium priority transactions            |
| high.max\_priority\_fee\_per\_gas   | string | Maximum priority fee per gas for high priority transactions   |
| high.max\_fee\_per\_gas             | string | Maximum fee per gas for high priority transactions            |
| high.min\_wait\_time                | string | Minimum wait time for high priority transactions              |
| high.max\_wait\_time                | string | Maximum wait time for high priority transactions              |
| source                              | string | The source of the fee estimation                              |
| base\_fee\_trend                    | string | The trend of the base fee                                     |
| priority\_fee\_trend                | string | The trend of the priority fee                                 |
| units                               | string | The units for the fee values                                  |

#### üìå Examples

##### Simple Estimator

<CodeGroup title="Get ETH Estimated Fee per Gas (Simple)" tag="POST" label="get_eth_estimated_fee_per_gas" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "get_eth_estimated_fee_per_gas",
    "mmrpc": "2.0",
    "params": {
      "coin": "ETH",
      "estimator_type": "Simple"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Get ETH Estimated Fee per Gas (Simple) Response" collapsedText="Show Get ETH Estimated Fee per Gas (Simple) Response">
  ### Response

  ```json
  {
      "mmrpc": "2.0",
      "result": {
          "base_fee": "10.890879158",
          "low": {
              "max_priority_fee_per_gas": "0.1101",
              "max_fee_per_gas": "11.949818698",
              "min_wait_time": null,
              "max_wait_time": null
          },
          "medium": {
              "max_priority_fee_per_gas": "1.258084291",
              "max_fee_per_gas": "13.905056537",
              "min_wait_time": null,
              "max_wait_time": null
          },
          "high": {
              "max_priority_fee_per_gas": "2.495532249",
              "max_fee_per_gas": "15.949758042",
              "min_wait_time": null,
              "max_wait_time": null
          },
          "source": "simple",
          "base_fee_trend": "",
          "priority_fee_trend": "",
          "units": "Gwei"
      },
      "id": null
  }
  ```
</CollapsibleSection>

##### Provider Estimator

<CodeGroup title="Get ETH Estimated Fee per Gas (Provider)" tag="POST" label="get_eth_estimated_fee_per_gas" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "get_eth_estimated_fee_per_gas",
    "mmrpc": "2.0",
    "params": {
      "coin": "ETH",
      "estimator_type": "Provider"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Get ETH Estimated Fee per Gas (Provider) Response" collapsedText="Show Get ETH Estimated Fee per Gas (Provider) Response">
  ### Response

  ```json
  {
      "mmrpc": "2.0",
      "result": {
          "base_fee": "0.629465419",
          "low": {
              "max_priority_fee_per_gas": "0.008999999",
              "max_fee_per_gas": "1.27",
              "min_wait_time": null,
              "max_wait_time": null
          },
          "medium": {
              "max_priority_fee_per_gas": "0.049",
              "max_fee_per_gas": "1.31",
              "min_wait_time": null,
              "max_wait_time": null
          },
          "high": {
              "max_priority_fee_per_gas": "0.089",
              "max_fee_per_gas": "1.35",
              "min_wait_time": null,
              "max_wait_time": null
          },
          "source": "blocknative",
          "base_fee_trend": "",
          "priority_fee_trend": "",
          "units": "Gwei"
      },
      "id": null
  }
  ```
</CollapsibleSection>

<Note type="info">
  The responses above were requested at the same time, for the same coin (MATIC). As you can see, the difference between the returned fee values can be significant.
</Note>

### Error Types

| Parameter        | Type   | Description                                                     |
| ---------------- | ------ | --------------------------------------------------------------- |
| InvalidRequest   | string | Error parsing request or missing required parameters            |
| NoSuchCoin       | string | The specified coin was not found or is not activated yet        |
| CoinNotSupported | string | Gas fee estimation is not supported for the specified coin type |

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  #### ‚ö†Ô∏è Error Responses

  ##### Missing Parameter

  ```json
  {
      "mmrpc": "2.0",
      "error": "Error parsing request: missing field `estimator_type`",
      "error_path": "dispatcher",
      "error_trace": "dispatcher:122]",
      "error_type": "InvalidRequest",
      "error_data": "missing field `estimator_type`",
      "id": null
  }
  ```

  ##### Coin Not Active

  ```json
  {
      "mmrpc": "2.0",
      "error": "No such coin DOGE",
      "error_path": "get_estimated_fees.lp_coins",
      "error_trace": "get_estimated_fees:244] lp_coins:4767]",
      "error_type": "NoSuchCoin",
      "error_data": {
          "coin": "DOGE"
      },
      "id": null
  }
  ```

  ##### Coin Not Supported

  ```json
  {
      "mmrpc": "2.0",
      "error": "Gas fee estimation not supported for this coin",
      "error_path": "get_estimated_fees",
      "error_trace": "get_estimated_fees:206]",
      "error_type": "CoinNotSupported",
      "id": null
  }
  ```
</CollapsibleSection>
