export const title = "Komodo DeFi Framework Method: ZHTLC Coin Transaction History";
export const description =
  "The methods in this document allow querying the transaction history ZHTLC coins like ARRR & ZOMBIE.";

# ZHTLC Coin Transaction History

## z\_coin\_tx\_history {{label : 'z_coin_tx_history', tag : 'API-v2'}}

To get the transaction history for ZHTLC coins, you need to use this special methodâ€”the [v2 my\_tx\_history](/komodo-defi-framework/api/v20/wallet/tx/my_tx_history/) and [legacy my\_tx\_history](/komodo-defi-framework/api/legacy/my_tx_history/) methods are not compatible with ZHTLC coins. Currently, transaction memos will not be displayed in output, though they can be added to outgoing transactions with the [task::withdraw](/komodo-defi-framework/api/v20/wallet/task_managed/withdraw/#task-withdraw) methods.

### Request Parameters

| Parameter                  | Type    | Required | Default | Description                                                                                                                                                                                                     |
| -------------------------- | ------- | :------: | :-----: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| coin                       | string  |     âœ“    |    -    | Ticker of the coin to get history for.                                                                                                                                                                          |
| limit                      | integer |     âœ—    |   `10`  | Limits the number of returned transactions. Ignored if `max = true`.                                                                                                                                            |
| paging\_options.FromId     | string  |     âœ—    |    -    | Komodo DeFi Framework API will skip records until it reaches this ID, skipping the from\_id as well; track the internal\_id of the last displayed transaction to find the value of this field for the next page |
| paging\_options.PageNumber | integer |     âœ—    |    -    | Komodo DeFi Framework API will return limit swaps from the selected page. Ignored if `FromId` is set.                                                                                                           |

### Response Parameters

| Parameter      | Type             | Description                                                                                                                                                                                |
| -------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| current\_block | number           | The number of the latest block of coin blockchain.                                                                                                                                         |
| from\_id       | string           | The from\_id specified in the request; this value is null if from\_id was not set.                                                                                                         |
| limit          | number           | The limit that was set in the request; note that the actual number of transactions can differ from the specified limit (e.g., on the last page).                                           |
| page\_number   | number           | The page\_number that was set in the request.                                                                                                                                              |
| skipped        | number           | The number of skipped records (i.e., the position of `from_id` in the list + 1); this value is 0 if `from_id` was not set.                                                                 |
| sync\_status   | object           | A standard [SyncStatus](/komodo-defi-framework/api/common_structures/#sync-status) object. Provides information to track the progress of transaction history preloading in the background. |
| total          | number           | The total number of transactions available.                                                                                                                                                |
| total\_pages   | number           | Total pages available with the selected limit.                                                                                                                                             |
| transactions   | array of objects | Transactions data.                                                                                                                                                                         |

#### ðŸ“Œ Examples

<CodeGroup title="ZHTLC Coin Transaction History" tag="POST" label="z_coin_tx_history" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "z_coin_tx_history",
    "mmrpc": "2.0",
    "params": {
      "coin": "ARRR",
      "limit": 2,
      "paging_options": {
        "PageNumber": 2
      }
    }
  }
  ```
</CodeGroup>

### Error Types

| Parameter       | Type   | Description                                        |
| --------------- | ------ | -------------------------------------------------- |
| NotSupportedFor | string | The method is not supported for the specified coin |
| CoinIsNotActive | string | The specified coin is not active                   |

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  ##### Error Response (Not Supported For)

  ```json
  {
      "mmrpc": "2.0",
      "error": "TKL",
      "error_path": "my_tx_history_v2",
      "error_trace": "my_tx_history_v2:523]",
      "error_type": "NotSupportedFor",
      "error_data": "TKL",
      "id": null
  }
  ```

  ##### Error (Coin Is Not Active)

  ```json
  {
      "mmrpc": "2.0",
      "error": "ZOMBIE",
      "error_path": "my_tx_history_v2.lp_coins",
      "error_trace": "my_tx_history_v2:521] lp_coins:2849]",
      "error_type": "CoinIsNotActive",
      "error_data": "ZOMBIE",
      "id": null
  }
  ```
</CollapsibleSection>
