export const title = "Get Payment Details";
export const description = "Get details about a Lightning Network payment using the Komodo DeFi Framework.";

# Get Payment Details

## Get Payment Details {{label : 'lightning::payments::get_payment_details', tag : 'API-v2'}}

The `lightning::payments::get_payment_details` method returns details about a lightning payment from a given `payment_hash`.

### Request Arguments

| Parameter     | Type   | Required | Description                                                                                                                                                                                                                                                                             |
| ------------- | ------ | :------: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| coin          | string |     ‚úì    | Ticker of the coin to query.                                                                                                                                                                                                                                                            |
| payment_hash | string |     ‚úì    | The hexadecimal string which identifies an invoice. The payment_hash is returned from a `lightning::payments::send_payment` request if the payment was sent by you, or from a `lightning::payments::generate_invoice` request if the payment is received (or will be received) by you. |

#### üìå Example

<CodeGroup title="Get Payment Details" tag="POST" label="lightning::payments::get_payment_details" mm2MethodDecorate="true">
  ```json
  {
    "method": "lightning::payments::get_payment_details",
    "userpass": "RPC_UserP@SSW0RD",
    "mmrpc": "2.0",
    "params": {
      "coin": "tBTC-lightning",
      "payment_hash": "414f9b3524fc4e48c99f2723952732d8bc2eba1b35ce3bf2a70f5144b40f599e"
    },
    "id": 1
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  ```json
  {
   "mmrpc": "2.0",
   "result": {
    "payment_details": {
     "payment_hash": "c4e25cc10d77e3cd5f3d2af7b14ad72f123b2a5021bd6705c0b8ee8386bdeceb",
     "payment_type": {
      "type": "Outbound Payment",
      "destination": "0348cc1a9479697cd52db445ea74149ad40bb01bb2045a3e8acba21b70f94ab7cf"
     },
     "description": "1 Blokaccino",
     "amount_in_msat": 1000000,
     "fee_paid_msat": 1803,
     "status": "succeeded",
     "created_at": 1684081413,
     "last_updated": 1684081419
    }
   },
   "id": 762
  }
  ```
</CollapsibleSection>

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  ### ‚ö†Ô∏è Error Responses

  ##### NoSuchPayment (payment hash not found)

  ```json
  {
   "mmrpc": "2.0",
   "error": "Payment with hash: 414f9b3524fc4e48c99f2723952732d8bc2eba1b35ce3bf2a70f5144b40f599e is not found",
   "error_path": "get_payment_details",
   "error_trace": "get_payment_details:75]",
   "error_type": "NoSuchPayment",
   "error_data": "414f9b3524fc4e48c99f2723952732d8bc2eba1b35ce3bf2a70f5144b40f599e",
   "id": 762
  }
  ```

  ##### InvalidRequest (payment_hash not a hash string)

  ```json
  {
   "mmrpc": "2.0",
   "error": "Error parsing request: invalid value: string '', expected a hash string",
   "error_path": "dispatcher",
   "error_trace": "dispatcher:109]",
   "error_type": "InvalidRequest",
   "error_data": "invalid value: string '', expected a hash string",
   "id": 762
  }
  ```
</CollapsibleSection> 