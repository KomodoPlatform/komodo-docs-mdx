/recover_funds_of_swap:
  post:
    operationId: recover_funds_of_swap
    summary: Recover Funds from Failed Swap
    description: |
      Instructs the Komodo DeFi Framework API software to attempt to reclaim user funds from a swap-payment address when a swap finishes with an error.
      This can occur when one side of the trade does not follow the protocol or due to network connection issues.
    x-mdx-doc-path: ../../src/pages/komodo-defi-framework/api/legacy/recover_funds_of_swap/index.mdx
    requestBody:
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: '../../../components/schemas/Common.yaml#/RpcV1Request'
              - type: object
                properties:
                  method:
                    type: string
                    enum: ["recover_funds_of_swap"]
                    description: The method name
                    example: "recover_funds_of_swap
                  params:
                    type: object
                    properties:
                      uuid:
                        type: string
                        format: uuid
                        description: UUID of the swap to recover the funds
                        example: "6343b2b1-c896-47d4-b0f2-a11798f654ed
                    required:
                      - uuid
                required:
                  - params
    responses:
      '200':
        description: Funds recovery attempted successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                result:
                  type: object
                  properties:
                    action:
                      type: string
                      description: The action executed to unlock the funds. Can be either SpentOtherPayment or RefundedMyPayment
                      enum: ["SpentOtherPayment", "RefundedMyPayment"]
                      example: "SpentOtherPayment
                    coin:
                      $ref: ../../../components/schemas/Common.yaml#/CoinTicker
                      description: The balance of this coin will be unstuck by the recovering transaction
                    tx_hash:
                      type: string
                      pattern: "^[a-fA-F0-9]{64}$
                      description: The hash of the recovering transaction
                      example: "696571d032976876df94d4b9994ee98faa870b44fbbb4941847e25fb7c49b85d
                    tx_hex:
                      type: string
                      pattern: "^[0-9a-fA-F]+$
                      description: Raw bytes of the recovering transaction in hexadecimal representation
                      example: "0400008085202f890113591b1feb52878f8aea53b658cf9948ba89b0cb27ad0cf30b59b5d3ef6d8ef700000000d8483045022100eda93472c1f6aa18aacb085e456bc47b75ce88527ed01c279ee1a955e85691b702201adf552cfc85cecf588536d5b8257d4969044dde86897f2780e8c122e3a705e40120576fa34d308f39b7a704616656cc124232143565ca7cf1c8c60d95859af8f22d004c6b63042555555db1752102631dcf1d4b1b693aa8c2751afc68e4794b1e5996566cfc701a663f8b7bbbe640ac6782012088a9146e602d4affeb86e4ee208802901b8fd43be2e2a4882102031d4256c4bc9f99ac88bf3dba21773132281f65f9bf23a59928bce08961e2f3ac68ffffffff0198929800000000001976a91405aab5342166f8594baf17a7d9bef5d56744332788ac0238555d000000000000000000000000000000
                  required:
                    - action
                    - coin
                    - tx_hash
                    - tx_hex
              required:
                - result
      '400':
        description: Bad request - Invalid parameters or swap conditions
        content:
          application/json:
            schema:
              $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '../../../components/schemas/Common.yaml#/RpcErrorResponse' 